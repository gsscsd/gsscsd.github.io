

<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noodp" />
    <title>python之Pandas笔记 - Gsscsd</title><meta name="Description" content="时光划过指缝-阅读挽留时光"><meta property="og:title" content="python之Pandas笔记" />
<meta property="og:description" content="
Pandas 是基于 NumPy 构建的库，在数据处理方面可以把它理解为 NumPy 加强版，同时 Pandas 也是一项开源项目。它基于 Cython，因此读取与处理数据非常快，并且还能轻松处理浮点数据中的缺失数据（表示为 NaN）以及非浮点数据。
pandas适合于许多不同类型的数据，包括：

具有异构类型列的表格数据，例如SQL表格或Excel数据
有序和无序（不一定是固定频率）时间序列数据。
具有行列标签的任意矩阵数据（均匀类型或不同类型）
任何其他形式的观测/统计数据集。

" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://gsscsd.github.io/python%E4%B9%8Bpandas%E7%AC%94%E8%AE%B0/" /><meta property="og:image" content="https://cdn.jsdelivr.net/gh/gsscsd/BlogImg/20220628173721.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-01-10T16:22:47+00:00" />
<meta property="article:modified_time" content="2019-01-10T16:22:47+00:00" /><meta property="og:site_name" content="Gsscsd" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/gsscsd/BlogImg/20220628173721.png"/>

<meta name="twitter:title" content="python之Pandas笔记"/>
<meta name="twitter:description" content="
Pandas 是基于 NumPy 构建的库，在数据处理方面可以把它理解为 NumPy 加强版，同时 Pandas 也是一项开源项目。它基于 Cython，因此读取与处理数据非常快，并且还能轻松处理浮点数据中的缺失数据（表示为 NaN）以及非浮点数据。
pandas适合于许多不同类型的数据，包括：

具有异构类型列的表格数据，例如SQL表格或Excel数据
有序和无序（不一定是固定频率）时间序列数据。
具有行列标签的任意矩阵数据（均匀类型或不同类型）
任何其他形式的观测/统计数据集。

"/>
<meta name="application-name" content="Gsscsd">
<meta name="apple-mobile-web-app-title" content="Gsscsd">

<meta name="theme-color" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="canonical" href="https://gsscsd.github.io/python%E4%B9%8Bpandas%E7%AC%94%E8%AE%B0/" /><link rel="prev" href="https://gsscsd.github.io/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%A1%88%E4%BE%8B%E4%B9%8Bnlp%E6%96%87%E6%9C%AC%E5%88%86%E7%B1%BB/" /><link rel="next" href="https://gsscsd.github.io/pytorch%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A81/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/color.346090a8e4618da38ff45853421bbd1d5ffa3c25e678a3f0131c9f7d5300e15669f91c74f1ed5fab76e7424a2a6a5619a9dc45f99e04f246e37d8af51295b6ae.css" integrity="sha512-NGCQqORhjaOP9FhTQhu9HV/6PCXmeKPwExyffVMA4VZp&#43;Rx08e1fq3bnQkoqalYZqdxF&#43;Z4E8kbjfYr1EpW2rg=="><link rel="stylesheet" href="/css/style.min.4f2deec9ba839d309c76dabead5bd259854c6fea2f78f1b9e47e833e7e3cf0c5e44f9a4a044f2bad8ca08dddc52c872601c501966bb44b2b73968730a68fd556.css" integrity="sha512-Ty3uybqDnTCcdtq&#43;rVvSWYVMb&#43;ovePG55H6DPn488MXkT5pKBE8rrYygjd3FLIcmAcUBlmu0Sytzlocwpo/VVg=="><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css"></noscript><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "python之Pandas笔记",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/gsscsd.github.io\/python%E4%B9%8Bpandas%E7%AC%94%E8%AE%B0\/"
        },"image": ["https:\/\/gsscsd.github.io\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "python, Pandas","wordcount":  11832 ,
        "url": "https:\/\/gsscsd.github.io\/python%E4%B9%8Bpandas%E7%AC%94%E8%AE%B0\/","datePublished": "2019-01-10T16:22:47+00:00","dateModified": "2019-01-10T16:22:47+00:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "Gsscsd","logo": "https:\/\/cdn.jsdelivr.net\/gh\/gsscsd\/BlogImg\/G_128px.ico"},"author": {
                "@type": "Person",
                "name": "Gsscsd"
            },"description": ""
    }
    </script><script src="//instant.page/5.1.1" defer type="module" integrity="sha384-MWfCL6g1OTGsbSwfuMHc8+8J2u71/LA8dzlIN3ycajckxuZZmF+DNjdm7O6H3PSq"></script>
</head>

<body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">
        function setTheme(theme) {document.body.setAttribute('theme', theme); document.documentElement.style.setProperty('color-scheme', theme === 'light' ? 'light' : 'dark'); window.theme = theme;   window.isDark = window.theme !== 'light' }
        function saveTheme(theme) {window.localStorage && localStorage.setItem('theme', theme);}
        function getMeta(metaName) {const metas = document.getElementsByTagName('meta'); for (let i = 0; i < metas.length; i++) if (metas[i].getAttribute('name') === metaName) return metas[i]; return '';}
        if (window.localStorage && localStorage.getItem('theme')) {let theme = localStorage.getItem('theme');theme === 'light' || theme === 'dark' || theme === 'black' ? setTheme(theme) : (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light')); } else { if ('auto' === 'light' || 'auto' === 'dark' || 'auto' === 'black') setTheme('auto'), saveTheme('auto'); else saveTheme('auto'), window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light');}
        let metaColors = {'light': '#f8f8f8','dark': '#252627','black': '#000000'}
        getMeta('theme-color').content = metaColors[document.body.getAttribute('theme')];
        window.switchThemeEventSet = new Set()
    </script>
    <div id="back-to-top"></div>
    <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Gsscsd">Gsscsd</a>
        </div>
        <div class="menu">
            <div class="menu-inner">
                <a class="menu-item"
                    href="/posts/" > 文章 
                </a><a class="menu-item"
                    href="/tags/" > 标签 
                </a><a class="menu-item"
                    href="/categories/" > 分类 
                </a><a class="menu-item"
                    href="/about/" > 关于 
                </a>
                <div class="dropdown">
                    <a href="javascript:void(0);" 
                        class="menu-item menu-more dropbtn" title="" > 工具导航 
                    </a>
                    <div class="menu-more-content dropdown-content"><a href="http://www.chat.gsscsd.cn" title="" > chatgpt </a></div>
                </div>
                <a class="menu-item"
                    href="https://github.com/gsscsd"  title="GitHub" 
                    rel="noopener noreffer" target="_blank" ><i class='fab fa-github fa-fw' aria-hidden='true'></i>  
                </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                    <input type="text"
                        placeholder="搜索文章标题或内容..."
                        id="search-input-desktop">
                    <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop"
                        title="搜索">
                        <i class="fas fa-search fa-fw"></i>
                    </a>
                    <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop"
                        title="清空">
                        <i class="fas fa-times-circle fa-fw"></i>
                    </a>
                    <span class="search-button search-loading" id="search-loading-desktop">
                        <i class="fas fa-spinner fa-fw fa-spin"></i>
                    </span>
                </span><a href="javascript:void(0);" class="menu-item theme-switch" title="">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Gsscsd">Gsscsd</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                <div class="search mobile" id="search-mobile">
                    <input type="text"
                        placeholder="搜索文章标题或内容..."
                        id="search-input-mobile">
                    <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile"
                        title="搜索">
                        <i class="fas fa-search fa-fw"></i>
                    </a>
                    <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile"
                        title="清空">
                        <i class="fas fa-times-circle fa-fw"></i>
                    </a>
                    <span class="search-button search-loading" id="search-loading-mobile">
                        <i class="fas fa-spinner fa-fw fa-spin"></i>
                    </span>
                </div>
                <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                    取消
                </a>
            </div><a class="menu-item" href="/posts/"> 文章 
                </a><a class="menu-item" href="/tags/"> 标签 
                </a><a class="menu-item" href="/categories/"> 分类 
                </a><a class="menu-item" href="/about/"> 关于 
                </a>
                <div class="dropdown">
                    <a href="javascript:void(0);" class="menu-item menu-more dropbtn" title="" > 工具导航 
                    </a>
                    <div class="menu-more-content dropdown-content"><a href="http://www.chat.gsscsd.cn" title="" > chatgpt </a></div>
                </div>
            <a class="menu-item" href="https://github.com/gsscsd" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i>  
                </a>
            
            
            
            
            
            
            <a href="javascript:void(0);" class="menu-item theme-switch" title="">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>


<main class="main">
            <div class="container"><div class="toc" id="toc-auto">
        <h2 class="toc-title">目录</h2>
        <div class="toc-content" id="toc-content-auto"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#核心数据结构"><strong>核心数据结构</strong></a>
          <ul>
            <li><a href="#series">Series</a>
              <ul>
                <li><a href="#series的创建">Series的创建</a></li>
                <li><a href="#series基本功能">Series基本功能</a></li>
                <li><a href="#series其他方法">Series其他方法</a></li>
              </ul>
            </li>
            <li><a href="#dataframe">DataFrame</a>
              <ul>
                <li><a href="#dataframe创建">DataFrame创建</a></li>
                <li><a href="#dataframe基本功能">DataFrame基本功能</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#pandas常用函数"><strong>Pandas常用函数</strong></a>
          <ul>
            <li><a href="#统计函数">统计函数</a></li>
            <li><a href="#应用函数">应用函数</a></li>
            <li><a href="#迭代函数">迭代函数</a></li>
            <li><a href="#字符与文本处理函数">字符与文本处理函数</a></li>
            <li><a href="#窗口函数">窗口函数</a></li>
          </ul>
        </li>
        <li><a href="#pandas索引与选择">Pandas索引与选择</a></li>
        <li><a href="#pandas分组聚合">Pandas分组聚合</a></li>
        <li><a href="#pandas合并与级联">Pandas合并与级联</a>
          <ul>
            <li><a href="#pandas合并">Pandas合并</a></li>
            <li><a href="#pandas级联">Pandas级联</a></li>
          </ul>
        </li>
        <li><a href="#pandas时间工具">Pandas时间工具</a></li>
        <li><a href="#pandas类别数据">Pandas类别数据</a></li>
        <li><a href="#pandas-io工具">Pandas IO工具</a></li>
        <li><a href="#pandas自定义设置">Pandas自定义设置</a></li>
        <li><a href="#pandas运用实例">Pandas运用实例</a></li>
        <li><a href="#pandas参考函数api">Pandas参考函数API</a>
          <ul>
            <li><a href="#构造函数">构造函数</a></li>
            <li><a href="#属性和数据">属性和数据</a></li>
            <li><a href="#类型转换">类型转换</a></li>
            <li><a href="#索引和迭代">索引和迭代</a></li>
            <li><a href="#二元运算">二元运算</a></li>
            <li><a href="#函数应用分组窗口">函数应用&amp;分组&amp;窗口</a></li>
            <li><a href="#描述统计学">描述统计学</a></li>
            <li><a href="#从新索引选取标签操作">从新索引&amp;选取&amp;标签操作</a></li>
            <li><a href="#处理缺失值">处理缺失值</a></li>
            <li><a href="#从新定型排序转变形态">从新定型&amp;排序&amp;转变形态</a></li>
            <li><a href="#combining-joiningmerging">Combining&amp; joining&amp;merging</a></li>
            <li><a href="#时间序列">时间序列</a></li>
            <li><a href="#作图">作图</a></li>
            <li><a href="#转换为其他格式">转换为其他格式</a></li>
          </ul>
        </li>
        <li><a href="#参考链接">参考链接</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
    </div><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC", "true")</script><article class="page single"><h1 class="single-title animate__animated animate__flipInX">python之Pandas笔记</h1><div class="post-meta">
            <div class="post-meta-line">
                <span class="post-author"><i class="author fas fa-user-circle fa-fw"></i><a href="/" title="Author" rel=" author" class="author">Gsscsd</a>
                </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category">类别 <a href="/categories/python/"><i class="far fa-folder fa-fw"></i>Python</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2019-01-10">2019-01-10</time>&nbsp;<i class="far fa-edit fa-fw"></i>&nbsp;<time datetime="2019-01-10">2019-01-10</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 11832 字&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 24 分钟&nbsp;<span id="/python%E4%B9%8Bpandas%E7%AC%94%E8%AE%B0/" class="leancloud_visitors" data-flag-title="python之Pandas笔记">
                        <i class="far fa-eye fa-fw"></i>&nbsp;<span class="leancloud-visitors-count"></span>&nbsp;次阅读
                    </span>&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#核心数据结构"><strong>核心数据结构</strong></a>
          <ul>
            <li><a href="#series">Series</a>
              <ul>
                <li><a href="#series的创建">Series的创建</a></li>
                <li><a href="#series基本功能">Series基本功能</a></li>
                <li><a href="#series其他方法">Series其他方法</a></li>
              </ul>
            </li>
            <li><a href="#dataframe">DataFrame</a>
              <ul>
                <li><a href="#dataframe创建">DataFrame创建</a></li>
                <li><a href="#dataframe基本功能">DataFrame基本功能</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#pandas常用函数"><strong>Pandas常用函数</strong></a>
          <ul>
            <li><a href="#统计函数">统计函数</a></li>
            <li><a href="#应用函数">应用函数</a></li>
            <li><a href="#迭代函数">迭代函数</a></li>
            <li><a href="#字符与文本处理函数">字符与文本处理函数</a></li>
            <li><a href="#窗口函数">窗口函数</a></li>
          </ul>
        </li>
        <li><a href="#pandas索引与选择">Pandas索引与选择</a></li>
        <li><a href="#pandas分组聚合">Pandas分组聚合</a></li>
        <li><a href="#pandas合并与级联">Pandas合并与级联</a>
          <ul>
            <li><a href="#pandas合并">Pandas合并</a></li>
            <li><a href="#pandas级联">Pandas级联</a></li>
          </ul>
        </li>
        <li><a href="#pandas时间工具">Pandas时间工具</a></li>
        <li><a href="#pandas类别数据">Pandas类别数据</a></li>
        <li><a href="#pandas-io工具">Pandas IO工具</a></li>
        <li><a href="#pandas自定义设置">Pandas自定义设置</a></li>
        <li><a href="#pandas运用实例">Pandas运用实例</a></li>
        <li><a href="#pandas参考函数api">Pandas参考函数API</a>
          <ul>
            <li><a href="#构造函数">构造函数</a></li>
            <li><a href="#属性和数据">属性和数据</a></li>
            <li><a href="#类型转换">类型转换</a></li>
            <li><a href="#索引和迭代">索引和迭代</a></li>
            <li><a href="#二元运算">二元运算</a></li>
            <li><a href="#函数应用分组窗口">函数应用&amp;分组&amp;窗口</a></li>
            <li><a href="#描述统计学">描述统计学</a></li>
            <li><a href="#从新索引选取标签操作">从新索引&amp;选取&amp;标签操作</a></li>
            <li><a href="#处理缺失值">处理缺失值</a></li>
            <li><a href="#从新定型排序转变形态">从新定型&amp;排序&amp;转变形态</a></li>
            <li><a href="#combining-joiningmerging">Combining&amp; joining&amp;merging</a></li>
            <li><a href="#时间序列">时间序列</a></li>
            <li><a href="#作图">作图</a></li>
            <li><a href="#转换为其他格式">转换为其他格式</a></li>
          </ul>
        </li>
        <li><a href="#参考链接">参考链接</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><blockquote>
<p>Pandas 是基于 NumPy 构建的库，在数据处理方面可以把它理解为 NumPy 加强版，同时 Pandas 也是一项开源项目。它基于 Cython，因此读取与处理数据非常快，并且还能轻松处理浮点数据中的缺失数据（表示为 NaN）以及非浮点数据。</p>
<p>pandas适合于许多不同类型的数据，包括：</p>
<ul>
<li>具有异构类型列的表格数据，例如SQL表格或Excel数据</li>
<li>有序和无序（不一定是固定频率）时间序列数据。</li>
<li>具有行列标签的任意矩阵数据（均匀类型或不同类型）</li>
<li>任何其他形式的观测/统计数据集。</li>
</ul>
</blockquote>
<h3 id="核心数据结构" class="headerLink">
    <a href="#%e6%a0%b8%e5%bf%83%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84" class="header-mark"></a><strong>核心数据结构</strong></h3><blockquote>
<p>pandas最核心的就是Series和DataFrame两个数据结构。</p>
<p>DataFrame可以看做是Series的容器，即：一个DataFrame中可以包含若干个Series。</p>
</blockquote>
<table>
<thead>
<tr>
<th>名称</th>
<th>维度</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Series</td>
<td>1维</td>
<td>带有标签的同构类型数组</td>
</tr>
<tr>
<td>DataFrame</td>
<td>2维</td>
<td>表格结构，带有标签，大小可变，且可以包含异构的数据列</td>
</tr>
</tbody>
</table>
<h4 id="series" class="headerLink">
    <a href="#series" class="header-mark"></a>Series</h4><h5 id="series的创建" class="headerLink">
    <a href="#series%e7%9a%84%e5%88%9b%e5%bb%ba" class="header-mark"></a>Series的创建</h5><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">pandas</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span> <span class="n">data</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span><span class="err">。</span>
</span></span></code></pre></td></tr></table>
</div>
</div><table>
<thead>
<tr>
<th>编号</th>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><code>data</code></td>
<td>数据采取各种形式，如：<code>ndarray</code>，<code>list</code>，<code>constants</code></td>
</tr>
<tr>
<td>2</td>
<td><code>index</code></td>
<td>索引值必须是唯一的和散列的，与数据的长度相同。 默认<code>np.arange(n)</code>如果没有索引被传递。</td>
</tr>
<tr>
<td>3</td>
<td><code>dtype</code></td>
<td><code>dtype</code>用于数据类型。如果没有，将推断数据类型</td>
</tr>
<tr>
<td>4</td>
<td><code>copy</code></td>
<td>复制数据，默认为<code>false</code>。</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># series的创建</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 1.根据list创建</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> 
</span></span><span class="line"><span class="cl"><span class="n">obj</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">obj</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 输出</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">0    4
</span></span></span><span class="line"><span class="cl"><span class="s2">1    7
</span></span></span><span class="line"><span class="cl"><span class="s2">2   -5
</span></span></span><span class="line"><span class="cl"><span class="s2">3    3
</span></span></span><span class="line"><span class="cl"><span class="s2">dtype: int64
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">obj</span><span class="o">.</span><span class="n">index</span>
</span></span><span class="line"><span class="cl"><span class="c1">#RangeIndex(start=0, stop=4, step=1)</span>
</span></span><span class="line"><span class="cl"><span class="n">obj</span><span class="o">.</span><span class="n">values</span>
</span></span><span class="line"><span class="cl"><span class="c1">#array([ 4,  7, -5,  3])</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2.根据dict创建</span>
</span></span><span class="line"><span class="cl"><span class="n">sdata</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Ohio&#39;</span><span class="p">:</span><span class="mi">35000</span><span class="p">,</span><span class="s1">&#39;Texas&#39;</span><span class="p">:</span><span class="mi">71000</span><span class="p">,</span><span class="s1">&#39;Oregon&#39;</span><span class="p">:</span><span class="mi">16000</span><span class="p">,</span><span class="s1">&#39;Utah&#39;</span><span class="p">:</span><span class="mi">5000</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">obj3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">sdata</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">obj3</span> 
</span></span><span class="line"><span class="cl"><span class="c1"># 输出</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">Ohio      35000
</span></span></span><span class="line"><span class="cl"><span class="s2">Oregon    16000
</span></span></span><span class="line"><span class="cl"><span class="s2">Texas     71000
</span></span></span><span class="line"><span class="cl"><span class="s2">Utah       5000
</span></span></span><span class="line"><span class="cl"><span class="s2">dtype: int64
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="series基本功能" class="headerLink">
    <a href="#series%e5%9f%ba%e6%9c%ac%e5%8a%9f%e8%83%bd" class="header-mark"></a>Series基本功能</h5><table>
<thead>
<tr>
<th>编号</th>
<th>属性或方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><code>axes</code></td>
<td>返回行轴标签列表。</td>
</tr>
<tr>
<td>2</td>
<td><code>dtype</code></td>
<td>返回对象的数据类型(<code>dtype</code>)。</td>
</tr>
<tr>
<td>3</td>
<td><code>empty</code></td>
<td>如果系列为空，则返回<code>True</code>。</td>
</tr>
<tr>
<td>4</td>
<td><code>ndim</code></td>
<td>返回底层数据的维数，默认定义：<code>1</code>。</td>
</tr>
<tr>
<td>5</td>
<td><code>size</code></td>
<td>返回基础数据中的元素数。</td>
</tr>
<tr>
<td>6</td>
<td><code>values</code></td>
<td>将系列作为<code>ndarray</code>返回。</td>
</tr>
<tr>
<td>7</td>
<td><code>head()</code></td>
<td>返回前<code>n</code>行。</td>
</tr>
<tr>
<td>8</td>
<td><code>tail()</code></td>
<td>返回最后<code>n</code>行。</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Series基本功能代码</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#Create a series with 100 random numbers</span>
</span></span><span class="line"><span class="cl"><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 1.显示axes</span>
</span></span><span class="line"><span class="cl"><span class="n">s</span><span class="o">.</span><span class="n">axes</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">The axes are:
</span></span></span><span class="line"><span class="cl"><span class="s2">[RangeIndex(start=0, stop=4, step=1)]
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2.显示empty</span>
</span></span><span class="line"><span class="cl"><span class="n">s</span><span class="o">.</span><span class="n">empty</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">False
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 3.显示ndim</span>
</span></span><span class="line"><span class="cl"><span class="n">s</span><span class="o">.</span><span class="n">ndim</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">1
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 4.显示size</span>
</span></span><span class="line"><span class="cl"><span class="n">s</span><span class="o">.</span><span class="n">size</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">4
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 5.values实例</span>
</span></span><span class="line"><span class="cl"><span class="n">s</span><span class="o">.</span><span class="n">values</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">[ 1.78737302 -0.60515881 0.18047664 -0.1409218 ]
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 6.head默认显示前5个数据</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 7.tail默认显示后5个数据</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="series其他方法" class="headerLink">
    <a href="#series%e5%85%b6%e4%bb%96%e6%96%b9%e6%b3%95" class="header-mark"></a>Series其他方法</h5><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 1.索引</span>
</span></span><span class="line"><span class="cl"><span class="n">obj2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="c1">#-5</span>
</span></span><span class="line"><span class="cl"><span class="n">obj2</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="c1">#-5</span>
</span></span><span class="line"><span class="cl"><span class="n">obj2</span><span class="p">[[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="c1">#输出</span>
</span></span><span class="line"><span class="cl"><span class="n">a</span>   <span class="o">-</span><span class="mi">5</span>
</span></span><span class="line"><span class="cl"><span class="n">b</span>    <span class="mi">7</span>
</span></span><span class="line"><span class="cl"><span class="n">d</span>    <span class="mi">4</span>
</span></span><span class="line"><span class="cl"><span class="n">dtype</span><span class="p">:</span> <span class="n">int64</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="c1"># 2.切片</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 与利用下标进行切片不同，使用标签进行切片时，末端是包含的</span>
</span></span><span class="line"><span class="cl"><span class="n">obj</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">:</span><span class="s1">&#39;c&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 输出</span>
</span></span><span class="line"><span class="cl"><span class="n">b</span>    <span class="mf">1.0</span>
</span></span><span class="line"><span class="cl"><span class="n">c</span>    <span class="mf">2.0</span>
</span></span><span class="line"><span class="cl"><span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 3.重建索引</span>
</span></span><span class="line"><span class="cl"><span class="n">obj2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">obj3</span> <span class="o">=</span> <span class="n">obj2</span><span class="o">.</span><span class="n">reindex</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="s1">&#39;e&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">obj3</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 输出</span>
</span></span><span class="line"><span class="cl"><span class="n">a</span>   <span class="o">-</span><span class="mf">5.0</span>
</span></span><span class="line"><span class="cl"><span class="n">b</span>    <span class="mf">7.0</span>
</span></span><span class="line"><span class="cl"><span class="n">c</span>    <span class="mf">3.0</span>
</span></span><span class="line"><span class="cl"><span class="n">d</span>    <span class="mf">4.0</span>
</span></span><span class="line"><span class="cl"><span class="n">e</span>    <span class="n">NaN</span>
</span></span><span class="line"><span class="cl"><span class="n">dtype</span><span class="p">:</span> <span class="n">NaN</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="c1"># reindex出现NaN，使用fill_value属性对NaN填充</span>
</span></span><span class="line"><span class="cl"><span class="n">obj4</span> <span class="o">=</span> <span class="n">obj2</span><span class="o">.</span><span class="n">reindex</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="s1">&#39;e&#39;</span><span class="p">],</span><span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">obj4</span>
</span></span><span class="line"><span class="cl"><span class="c1">#输出</span>
</span></span><span class="line"><span class="cl"><span class="n">a</span>   <span class="o">-</span><span class="mi">5</span>
</span></span><span class="line"><span class="cl"><span class="n">b</span>    <span class="mi">7</span>
</span></span><span class="line"><span class="cl"><span class="n">c</span>    <span class="mi">3</span>
</span></span><span class="line"><span class="cl"><span class="n">d</span>    <span class="mi">4</span>
</span></span><span class="line"><span class="cl"><span class="n">e</span>    <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">dtype</span><span class="p">:</span> <span class="n">int64</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 4.数据运算</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 可以对Series进行numpy中的一些数组运算</span>
</span></span><span class="line"><span class="cl"><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">obj2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Series在算术运算中会自动对齐不同索引的数据：</span>
</span></span><span class="line"><span class="cl"><span class="n">obj3</span> <span class="o">+</span> <span class="n">obj4</span>
</span></span><span class="line"><span class="cl"><span class="c1">#输出</span>
</span></span><span class="line"><span class="cl"><span class="n">California</span>         <span class="n">NaN</span>
</span></span><span class="line"><span class="cl"><span class="n">Ohio</span>           <span class="mf">70000.0</span>
</span></span><span class="line"><span class="cl"><span class="n">Oregon</span>         <span class="mf">32000.0</span>
</span></span><span class="line"><span class="cl"><span class="n">Texas</span>         <span class="mf">142000.0</span>
</span></span><span class="line"><span class="cl"><span class="n">Utah</span>               <span class="n">NaN</span>
</span></span><span class="line"><span class="cl"><span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 5.排序和排名</span>
</span></span><span class="line"><span class="cl"><span class="c1"># sort_index根据索引排序</span>
</span></span><span class="line"><span class="cl"><span class="c1"># sort_values根据值排序</span>
</span></span><span class="line"><span class="cl"><span class="n">obj</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">obj</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1">#输出：</span>
</span></span><span class="line"><span class="cl"><span class="n">a</span>    <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="n">b</span>    <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="n">c</span>    <span class="mi">3</span>
</span></span><span class="line"><span class="cl"><span class="n">d</span>    <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">dtype</span><span class="p">:</span> <span class="n">int64</span>
</span></span><span class="line"><span class="cl"><span class="n">obj</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1">#输出：</span>
</span></span><span class="line"><span class="cl"><span class="n">d</span>    <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">a</span>    <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="n">b</span>    <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="n">c</span>    <span class="mi">3</span>
</span></span><span class="line"><span class="cl"><span class="n">dtype</span><span class="p">:</span> <span class="n">int64</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 使用rank函数会增加一个排名值</span>
</span></span><span class="line"><span class="cl"><span class="n">obj</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">7</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">obj</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1">#输出：</span>
</span></span><span class="line"><span class="cl"><span class="mi">0</span>    <span class="mf">6.5</span>
</span></span><span class="line"><span class="cl"><span class="mi">1</span>    <span class="mf">1.0</span>
</span></span><span class="line"><span class="cl"><span class="mi">2</span>    <span class="mf">6.5</span>
</span></span><span class="line"><span class="cl"><span class="mi">3</span>    <span class="mf">4.5</span>
</span></span><span class="line"><span class="cl"><span class="mi">4</span>    <span class="mf">3.0</span>
</span></span><span class="line"><span class="cl"><span class="mi">5</span>    <span class="mf">2.0</span>
</span></span><span class="line"><span class="cl"><span class="mi">6</span>    <span class="mf">4.5</span>
</span></span><span class="line"><span class="cl"><span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">obj</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#输出</span>
</span></span><span class="line"><span class="cl"><span class="mi">0</span>    <span class="mf">6.0</span>
</span></span><span class="line"><span class="cl"><span class="mi">1</span>    <span class="mf">1.0</span>
</span></span><span class="line"><span class="cl"><span class="mi">2</span>    <span class="mf">7.0</span>
</span></span><span class="line"><span class="cl"><span class="mi">3</span>    <span class="mf">4.0</span>
</span></span><span class="line"><span class="cl"><span class="mi">4</span>    <span class="mf">3.0</span>
</span></span><span class="line"><span class="cl"><span class="mi">5</span>    <span class="mf">2.0</span>
</span></span><span class="line"><span class="cl"><span class="mi">6</span>    <span class="mf">5.0</span>
</span></span><span class="line"><span class="cl"><span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 6.汇总和计算描述统计</span>
</span></span><span class="line"><span class="cl"><span class="c1"># sum、mean、max、count、median等等</span>
</span></span><span class="line"><span class="cl"><span class="c1"># corr相关系数</span>
</span></span><span class="line"><span class="cl"><span class="c1"># conv协方差</span>
</span></span><span class="line"><span class="cl"><span class="n">obj1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="n">index</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abcdefghij&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">obj2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span><span class="n">index</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;cdefghijklmn&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">obj1</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">obj2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#1.0</span>
</span></span><span class="line"><span class="cl"><span class="n">obj1</span><span class="o">.</span><span class="n">cov</span><span class="p">(</span><span class="n">obj2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#6.0</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 7.唯一数、值计数</span>
</span></span><span class="line"><span class="cl"><span class="n">obj</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">uniques</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">uniques</span>
</span></span><span class="line"><span class="cl"><span class="c1">#array([&#39;c&#39;, &#39;a&#39;, &#39;d&#39;, &#39;b&#39;], dtype=object)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#value_counts()返回各数的计数</span>
</span></span><span class="line"><span class="cl"><span class="n">obj</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1">#输出</span>
</span></span><span class="line"><span class="cl"><span class="n">a</span>    <span class="mi">3</span>
</span></span><span class="line"><span class="cl"><span class="n">c</span>    <span class="mi">3</span>
</span></span><span class="line"><span class="cl"><span class="n">b</span>    <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="n">d</span>    <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="n">dtype</span><span class="p">:</span> <span class="n">int64</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 8.处理缺失数据</span>
</span></span><span class="line"><span class="cl"><span class="c1"># isnull判断NaN值</span>
</span></span><span class="line"><span class="cl"><span class="c1"># fillna填充NaN值</span>
</span></span><span class="line"><span class="cl"><span class="c1"># dropna舍弃NaN值</span>
</span></span><span class="line"><span class="cl"><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span><span class="mf">3.5</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span><span class="mi">7</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">data</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#输出</span>
</span></span><span class="line"><span class="cl"><span class="mi">0</span>    <span class="mf">1.0</span>
</span></span><span class="line"><span class="cl"><span class="mi">1</span>    <span class="mf">0.0</span>
</span></span><span class="line"><span class="cl"><span class="mi">2</span>    <span class="mf">3.5</span>
</span></span><span class="line"><span class="cl"><span class="mi">3</span>    <span class="mf">0.0</span>
</span></span><span class="line"><span class="cl"><span class="mi">4</span>    <span class="mf">7.0</span>
</span></span><span class="line"><span class="cl"><span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="dataframe" class="headerLink">
    <a href="#dataframe" class="header-mark"></a>DataFrame</h4><h5 id="dataframe创建" class="headerLink">
    <a href="#dataframe%e5%88%9b%e5%bb%ba" class="header-mark"></a>DataFrame创建</h5><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span> <span class="n">data</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">columns</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><table>
<thead>
<tr>
<th>编号</th>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><code>data</code></td>
<td>数据采取各种形式，如:<code>ndarray</code>，<code>series</code>，<code>map</code>，<code>lists</code>，<code>dict</code>，<code>constant</code>和另一个<code>DataFrame</code>。</td>
</tr>
<tr>
<td>2</td>
<td><code>index</code></td>
<td>对于行标签，要用于结果帧的索引是可选缺省值<code>np.arrange(n)</code>，如果没有传递索引值。</td>
</tr>
<tr>
<td>3</td>
<td><code>columns</code></td>
<td>对于列标签，可选的默认语法是 - <code>np.arange(n)</code>。 这只有在没有索引传递的情况下才是这样。</td>
</tr>
<tr>
<td>4</td>
<td><code>dtype</code></td>
<td>每列的数据类型。</td>
</tr>
<tr>
<td>5</td>
<td><code>copy</code></td>
<td>如果默认值为<code>False</code>，则此命令(或任何它)用于复制数据。</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># DataFrame创建</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 1.使用list创建</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">     0
</span></span></span><span class="line"><span class="cl"><span class="s2">0    1
</span></span></span><span class="line"><span class="cl"><span class="s2">1    2
</span></span></span><span class="line"><span class="cl"><span class="s2">2    3
</span></span></span><span class="line"><span class="cl"><span class="s2">3    4
</span></span></span><span class="line"><span class="cl"><span class="s2">4    5
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">data</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;Alex&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span><span class="mi">12</span><span class="p">],[</span><span class="s1">&#39;Clarke&#39;</span><span class="p">,</span><span class="mi">13</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span><span class="s1">&#39;Age&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">      Name      Age
</span></span></span><span class="line"><span class="cl"><span class="s2">0     Alex      10
</span></span></span><span class="line"><span class="cl"><span class="s2">1     Bob       12
</span></span></span><span class="line"><span class="cl"><span class="s2">2     Clarke    13
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2.使用dict创建</span>
</span></span><span class="line"><span class="cl"><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Name&#39;</span><span class="p">:[</span><span class="s1">&#39;Tom&#39;</span><span class="p">,</span> <span class="s1">&#39;Jack&#39;</span><span class="p">,</span> <span class="s1">&#39;Steve&#39;</span><span class="p">,</span> <span class="s1">&#39;Ricky&#39;</span><span class="p">],</span><span class="s1">&#39;Age&#39;</span><span class="p">:[</span><span class="mi">28</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">42</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">      Age      Name
</span></span></span><span class="line"><span class="cl"><span class="s2">0     28        Tom
</span></span></span><span class="line"><span class="cl"><span class="s2">1     34       Jack
</span></span></span><span class="line"><span class="cl"><span class="s2">2     29      Steve
</span></span></span><span class="line"><span class="cl"><span class="s2">3     42      Ricky
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;one&#39;</span> <span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]),</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;two&#39;</span> <span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">])}</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">      one    two
</span></span></span><span class="line"><span class="cl"><span class="s2">a     1.0    1
</span></span></span><span class="line"><span class="cl"><span class="s2">b     2.0    2
</span></span></span><span class="line"><span class="cl"><span class="s2">c     3.0    3
</span></span></span><span class="line"><span class="cl"><span class="s2">d     NaN    4
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="dataframe基本功能" class="headerLink">
    <a href="#dataframe%e5%9f%ba%e6%9c%ac%e5%8a%9f%e8%83%bd" class="header-mark"></a>DataFrame基本功能</h5><table>
<thead>
<tr>
<th>编号</th>
<th>属性或方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><code>T</code></td>
<td>转置行和列。</td>
</tr>
<tr>
<td>2</td>
<td><code>axes</code></td>
<td>返回一个列，行轴标签和列轴标签作为唯一的成员。</td>
</tr>
<tr>
<td>3</td>
<td><code>dtypes</code></td>
<td>返回此对象中的数据类型(<code>dtypes</code>)。</td>
</tr>
<tr>
<td>4</td>
<td><code>empty</code></td>
<td>如果<code>NDFrame</code>完全为空[无项目]，则返回为<code>True</code>; 如果任何轴的长度为<code>0</code>。</td>
</tr>
<tr>
<td>5</td>
<td><code>ndim</code></td>
<td>轴/数组维度大小。</td>
</tr>
<tr>
<td>6</td>
<td><code>shape</code></td>
<td>返回表示<code>DataFrame</code>的维度的元组。</td>
</tr>
<tr>
<td>7</td>
<td><code>size</code></td>
<td><code>NDFrame</code>中的元素数。</td>
</tr>
<tr>
<td>8</td>
<td><code>values</code></td>
<td>NDFrame的Numpy表示。</td>
</tr>
<tr>
<td>9</td>
<td><code>head()</code></td>
<td>返回开头前<code>n</code>行。</td>
</tr>
<tr>
<td>10</td>
<td><code>tail()</code></td>
<td>返回最后<code>n</code>行。</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># DataFrame例子</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#Create a Dictionary of series</span>
</span></span><span class="line"><span class="cl"><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;Tom&#39;</span><span class="p">,</span><span class="s1">&#39;James&#39;</span><span class="p">,</span><span class="s1">&#39;Ricky&#39;</span><span class="p">,</span><span class="s1">&#39;Vin&#39;</span><span class="p">,</span><span class="s1">&#39;Steve&#39;</span><span class="p">,</span><span class="s1">&#39;Minsu&#39;</span><span class="p">,</span><span class="s1">&#39;Jack&#39;</span><span class="p">]),</span>
</span></span><span class="line"><span class="cl">   <span class="s1">&#39;Age&#39;</span><span class="p">:</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">25</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">23</span><span class="p">]),</span>
</span></span><span class="line"><span class="cl">   <span class="s1">&#39;Rating&#39;</span><span class="p">:</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mf">4.23</span><span class="p">,</span><span class="mf">3.24</span><span class="p">,</span><span class="mf">3.98</span><span class="p">,</span><span class="mf">2.56</span><span class="p">,</span><span class="mf">3.20</span><span class="p">,</span><span class="mf">4.6</span><span class="p">,</span><span class="mf">3.8</span><span class="p">])}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#Create a DataFrame</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Age   Name    Rating
</span></span></span><span class="line"><span class="cl"><span class="s2">0   25    Tom     4.23
</span></span></span><span class="line"><span class="cl"><span class="s2">1   26    James   3.24
</span></span></span><span class="line"><span class="cl"><span class="s2">2   25    Ricky   3.98
</span></span></span><span class="line"><span class="cl"><span class="s2">3   23    Vin     2.56
</span></span></span><span class="line"><span class="cl"><span class="s2">4   30    Steve   3.20
</span></span></span><span class="line"><span class="cl"><span class="s2">5   29    Minsu   4.60
</span></span></span><span class="line"><span class="cl"><span class="s2">6   23    Jack    3.80
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 1.转置</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">T</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">         0     1       2      3      4      5       6
</span></span></span><span class="line"><span class="cl"><span class="s2">Age      25    26      25     23     30     29      23
</span></span></span><span class="line"><span class="cl"><span class="s2">Name     Tom   James   Ricky  Vin    Steve  Minsu   Jack
</span></span></span><span class="line"><span class="cl"><span class="s2">Rating   4.23  3.24    3.98   2.56   3.2    4.6     3.8
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2.axes</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">axes</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">[RangeIndex(start=0, stop=7, step=1), Index([u&#39;Age&#39;, u&#39;Name&#39;, u&#39;Rating&#39;],
</span></span></span><span class="line"><span class="cl"><span class="s2">dtype=&#39;object&#39;)]
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 3.数据类型</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">Age     int64
</span></span></span><span class="line"><span class="cl"><span class="s2">Name    object
</span></span></span><span class="line"><span class="cl"><span class="s2">Rating  float64
</span></span></span><span class="line"><span class="cl"><span class="s2">dtype: object
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 4.shape</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</span></span><span class="line"><span class="cl"><span class="c1">#(7,3)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 5.values</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">values</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">[[25 &#39;Tom&#39; 4.23]
</span></span></span><span class="line"><span class="cl"><span class="s2">[26 &#39;James&#39; 3.24]
</span></span></span><span class="line"><span class="cl"><span class="s2">[25 &#39;Ricky&#39; 3.98]
</span></span></span><span class="line"><span class="cl"><span class="s2">[23 &#39;Vin&#39; 2.56]
</span></span></span><span class="line"><span class="cl"><span class="s2">[30 &#39;Steve&#39; 3.2]
</span></span></span><span class="line"><span class="cl"><span class="s2">[29 &#39;Minsu&#39; 4.6]
</span></span></span><span class="line"><span class="cl"><span class="s2">[23 &#39;Jack&#39; 3.8]]
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="pandas常用函数" class="headerLink">
    <a href="#pandas%e5%b8%b8%e7%94%a8%e5%87%bd%e6%95%b0" class="header-mark"></a><strong>Pandas常用函数</strong></h3><h4 id="统计函数" class="headerLink">
    <a href="#%e7%bb%9f%e8%ae%a1%e5%87%bd%e6%95%b0" class="header-mark"></a>统计函数</h4><table>
<thead>
<tr>
<th>编号</th>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><code>count()</code></td>
<td>非空观测数量</td>
</tr>
<tr>
<td>2</td>
<td><code>sum()</code></td>
<td>所有值之和</td>
</tr>
<tr>
<td>3</td>
<td><code>mean()</code></td>
<td>所有值的平均值</td>
</tr>
<tr>
<td>4</td>
<td><code>median()</code></td>
<td>所有值的中位数</td>
</tr>
<tr>
<td>5</td>
<td><code>mode()</code></td>
<td>值的模值</td>
</tr>
<tr>
<td>6</td>
<td><code>std()</code></td>
<td>值的标准偏差</td>
</tr>
<tr>
<td>7</td>
<td><code>min()</code></td>
<td>所有值中的最小值</td>
</tr>
<tr>
<td>8</td>
<td><code>max()</code></td>
<td>所有值中的最大值</td>
</tr>
<tr>
<td>9</td>
<td><code>abs()</code></td>
<td>绝对值</td>
</tr>
<tr>
<td>10</td>
<td><code>prod()</code></td>
<td>数组元素的乘积</td>
</tr>
<tr>
<td>11</td>
<td><code>cumsum()</code></td>
<td>累计总和</td>
</tr>
<tr>
<td>12</td>
<td><code>cumprod()</code></td>
<td>累计乘积</td>
</tr>
<tr>
<td>13</td>
<td><code> pct_change()</code></td>
<td>计算变化百分比</td>
</tr>
<tr>
<td>14</td>
<td><code>conv()</code></td>
<td>计算协方差</td>
</tr>
<tr>
<td>15</td>
<td><code>corr()</code></td>
<td>相关性计算</td>
</tr>
<tr>
<td>16</td>
<td><code>rank()</code></td>
<td>数据排名</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#Create a Dictionary of series</span>
</span></span><span class="line"><span class="cl"><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;Tom&#39;</span><span class="p">,</span><span class="s1">&#39;James&#39;</span><span class="p">,</span><span class="s1">&#39;Ricky&#39;</span><span class="p">,</span><span class="s1">&#39;Vin&#39;</span><span class="p">,</span><span class="s1">&#39;Steve&#39;</span><span class="p">,</span><span class="s1">&#39;Minsu&#39;</span><span class="p">,</span><span class="s1">&#39;Jack&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="s1">&#39;Lee&#39;</span><span class="p">,</span><span class="s1">&#39;David&#39;</span><span class="p">,</span><span class="s1">&#39;Gasper&#39;</span><span class="p">,</span><span class="s1">&#39;Betina&#39;</span><span class="p">,</span><span class="s1">&#39;Andres&#39;</span><span class="p">]),</span>
</span></span><span class="line"><span class="cl">   <span class="s1">&#39;Age&#39;</span><span class="p">:</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">25</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">51</span><span class="p">,</span><span class="mi">46</span><span class="p">]),</span>
</span></span><span class="line"><span class="cl">   <span class="s1">&#39;Rating&#39;</span><span class="p">:</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mf">4.23</span><span class="p">,</span><span class="mf">3.24</span><span class="p">,</span><span class="mf">3.98</span><span class="p">,</span><span class="mf">2.56</span><span class="p">,</span><span class="mf">3.20</span><span class="p">,</span><span class="mf">4.6</span><span class="p">,</span><span class="mf">3.8</span><span class="p">,</span><span class="mf">3.78</span><span class="p">,</span><span class="mf">2.98</span><span class="p">,</span><span class="mf">4.80</span><span class="p">,</span><span class="mf">4.10</span><span class="p">,</span><span class="mf">3.65</span><span class="p">])}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#Create a DataFrame</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2"> 	Age  Name   Rating
</span></span></span><span class="line"><span class="cl"><span class="s2">0   25   Tom     4.23
</span></span></span><span class="line"><span class="cl"><span class="s2">1   26   James   3.24
</span></span></span><span class="line"><span class="cl"><span class="s2">2   25   Ricky   3.98
</span></span></span><span class="line"><span class="cl"><span class="s2">3   23   Vin     2.56
</span></span></span><span class="line"><span class="cl"><span class="s2">4   30   Steve   3.20
</span></span></span><span class="line"><span class="cl"><span class="s2">5   29   Minsu   4.60
</span></span></span><span class="line"><span class="cl"><span class="s2">6   23   Jack    3.80
</span></span></span><span class="line"><span class="cl"><span class="s2">7   34   Lee     3.78
</span></span></span><span class="line"><span class="cl"><span class="s2">8   40   David   2.98
</span></span></span><span class="line"><span class="cl"><span class="s2">9   30   Gasper  4.80
</span></span></span><span class="line"><span class="cl"><span class="s2">10  51   Betina  4.10
</span></span></span><span class="line"><span class="cl"><span class="s2">11  46   Andres  3.65
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 1.sum(),默认axis=0</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">Age                                                    382
</span></span></span><span class="line"><span class="cl"><span class="s2">Name     TomJamesRickyVinSteveMinsuJackLeeDavidGasperBe...
</span></span></span><span class="line"><span class="cl"><span class="s2">Rating                                               44.92
</span></span></span><span class="line"><span class="cl"><span class="s2">dtype: object
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2.mean()</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">Age       31.833333
</span></span></span><span class="line"><span class="cl"><span class="s2">Rating     3.743333
</span></span></span><span class="line"><span class="cl"><span class="s2">dtype: float64
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 3.std()</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">Age       9.232682
</span></span></span><span class="line"><span class="cl"><span class="s2">Rating    0.661628
</span></span></span><span class="line"><span class="cl"><span class="s2">dtype: float64
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 汇总函数 describe()</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">               Age         Rating
</span></span></span><span class="line"><span class="cl"><span class="s2">count    12.000000      12.000000
</span></span></span><span class="line"><span class="cl"><span class="s2">mean     31.833333       3.743333
</span></span></span><span class="line"><span class="cl"><span class="s2">std       9.232682       0.661628
</span></span></span><span class="line"><span class="cl"><span class="s2">min      23.000000       2.560000
</span></span></span><span class="line"><span class="cl"><span class="s2">25%      25.000000       3.230000
</span></span></span><span class="line"><span class="cl"><span class="s2">50%      29.500000       3.790000
</span></span></span><span class="line"><span class="cl"><span class="s2">75%      35.500000       4.132500
</span></span></span><span class="line"><span class="cl"><span class="s2">max      51.000000       4.800000
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="应用函数" class="headerLink">
    <a href="#%e5%ba%94%e7%94%a8%e5%87%bd%e6%95%b0" class="header-mark"></a>应用函数</h4><blockquote>
<p>要将自定义或其他库的函数应用于<em>Pandas</em>对象，有三个重要的方法，下面来讨论如何使用这些方法。使用适当的方法取决于函数是否期望在整个<code>DataFrame</code>，行或列或元素上进行操作。</p>
<ul>
<li>表合理函数应用：<code>pipe()</code></li>
<li>行或列函数应用：<code>apply()</code></li>
<li>元素函数应用：<code>applymap()</code></li>
</ul>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 1.表格函数应用</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">adder</span><span class="p">(</span><span class="n">ele1</span><span class="p">,</span><span class="n">ele2</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">   <span class="k">return</span> <span class="n">ele1</span><span class="o">+</span><span class="n">ele2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;col1&#39;</span><span class="p">,</span><span class="s1">&#39;col2&#39;</span><span class="p">,</span><span class="s1">&#39;col3&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">adder</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">        col1       col2       col3
</span></span></span><span class="line"><span class="cl"><span class="s2">0   2.176704   2.219691   1.509360
</span></span></span><span class="line"><span class="cl"><span class="s2">1   2.222378   2.422167   3.953921
</span></span></span><span class="line"><span class="cl"><span class="s2">2   2.241096   1.135424   2.696432
</span></span></span><span class="line"><span class="cl"><span class="s2">3   2.355763   0.376672   1.182570
</span></span></span><span class="line"><span class="cl"><span class="s2">4   2.308743   2.714767   2.130288
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2.行列应用函数</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;col1&#39;</span><span class="p">,</span><span class="s1">&#39;col2&#39;</span><span class="p">,</span><span class="s1">&#39;col3&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">     col1       col2        col3                                                      
</span></span></span><span class="line"><span class="cl"><span class="s2">0   0.343569  -1.013287    1.131245 
</span></span></span><span class="line"><span class="cl"><span class="s2">1   0.508922  -0.949778   -1.600569 
</span></span></span><span class="line"><span class="cl"><span class="s2">2  -1.182331  -0.420703   -1.725400
</span></span></span><span class="line"><span class="cl"><span class="s2">3   0.860265   2.069038   -0.537648
</span></span></span><span class="line"><span class="cl"><span class="s2">4   0.876758  -0.238051    0.473992
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 3.元素函数应用</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># My custom function</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;col1&#39;</span><span class="p">,</span><span class="s1">&#39;col2&#39;</span><span class="p">,</span><span class="s1">&#39;col3&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">         col1         col2         col3
</span></span></span><span class="line"><span class="cl"><span class="s2">0   17.670426    21.969052    -49.064031
</span></span></span><span class="line"><span class="cl"><span class="s2">1   22.237846    42.216693     195.392124
</span></span></span><span class="line"><span class="cl"><span class="s2">2   24.109576   -86.457646     69.643171
</span></span></span><span class="line"><span class="cl"><span class="s2">3   35.576312   -162.332803   -81.743023
</span></span></span><span class="line"><span class="cl"><span class="s2">4   30.874333    71.476717     13.028751
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="迭代函数" class="headerLink">
    <a href="#%e8%bf%ad%e4%bb%a3%e5%87%bd%e6%95%b0" class="header-mark"></a>迭代函数</h4><blockquote>
<p><code>Pandas</code>对象之间的基本迭代的行为取决于类型。当迭代一个系列时，它被视为数组式，基本迭代产生这些值。其他数据结构，如：<code>DataFrame</code>，遵循类似惯例迭代对象的键。</p>
<p>要遍历数据帧(<code>DataFrame</code>)中的行，可以使用以下函数 -</p>
<ul>
<li><code>iteritems()</code> - 迭代<code>(key，value)</code>对</li>
<li><code>iterrows()</code> - 将行迭代为(索引，系列)对</li>
<li><code>itertuples()</code> - 以<code>namedtuples</code>的形式迭代行</li>
</ul>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 1.iteritems,迭代的计算列</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;col1&#39;</span><span class="p">,</span><span class="s1">&#39;col2&#39;</span><span class="p">,</span><span class="s1">&#39;col3&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">   <span class="nb">print</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">col1 0    0.802390
</span></span></span><span class="line"><span class="cl"><span class="s2">1    0.324060
</span></span></span><span class="line"><span class="cl"><span class="s2">2    0.256811
</span></span></span><span class="line"><span class="cl"><span class="s2">3    0.839186
</span></span></span><span class="line"><span class="cl"><span class="s2">Name: col1, dtype: float64
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">col2 0    1.624313
</span></span></span><span class="line"><span class="cl"><span class="s2">1   -1.033582
</span></span></span><span class="line"><span class="cl"><span class="s2">2    1.796663
</span></span></span><span class="line"><span class="cl"><span class="s2">3    1.856277
</span></span></span><span class="line"><span class="cl"><span class="s2">Name: col2, dtype: float64
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">col3 0   -0.022142
</span></span></span><span class="line"><span class="cl"><span class="s2">1   -0.230820
</span></span></span><span class="line"><span class="cl"><span class="s2">2    1.160691
</span></span></span><span class="line"><span class="cl"><span class="s2">3   -0.830279
</span></span></span><span class="line"><span class="cl"><span class="s2">Name: col3, dtype: float64
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2.iterrows 迭代计算行</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;col1&#39;</span><span class="p">,</span><span class="s1">&#39;col2&#39;</span><span class="p">,</span><span class="s1">&#39;col3&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">row_index</span><span class="p">,</span><span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">   <span class="nb">print</span> <span class="p">(</span><span class="n">row_index</span><span class="p">,</span><span class="n">row</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">0  col1    1.529759
</span></span></span><span class="line"><span class="cl"><span class="s2">   col2    0.762811
</span></span></span><span class="line"><span class="cl"><span class="s2">   col3   -0.634691
</span></span></span><span class="line"><span class="cl"><span class="s2">Name: 0, dtype: float64
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">1  col1   -0.944087
</span></span></span><span class="line"><span class="cl"><span class="s2">   col2    1.420919
</span></span></span><span class="line"><span class="cl"><span class="s2">   col3   -0.507895
</span></span></span><span class="line"><span class="cl"><span class="s2">Name: 1, dtype: float64
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">2  col1   -0.077287
</span></span></span><span class="line"><span class="cl"><span class="s2">   col2   -0.858556
</span></span></span><span class="line"><span class="cl"><span class="s2">   col3   -0.663385
</span></span></span><span class="line"><span class="cl"><span class="s2">Name: 2, dtype: float64
</span></span></span><span class="line"><span class="cl"><span class="s2">3  col1    -1.638578
</span></span></span><span class="line"><span class="cl"><span class="s2">   col2     0.059866
</span></span></span><span class="line"><span class="cl"><span class="s2">   col3     0.493482
</span></span></span><span class="line"><span class="cl"><span class="s2">Name: 3, dtype: float64
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="字符与文本处理函数" class="headerLink">
    <a href="#%e5%ad%97%e7%ac%a6%e4%b8%8e%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86%e5%87%bd%e6%95%b0" class="header-mark"></a>字符与文本处理函数</h4><table>
<thead>
<tr>
<th>编号</th>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><code>lower()</code></td>
<td>将<code>Series/Index</code>中的字符串转换为小写。</td>
</tr>
<tr>
<td>2</td>
<td><code>upper()</code></td>
<td>将<code>Series/Index</code>中的字符串转换为大写。</td>
</tr>
<tr>
<td>3</td>
<td><code>len()</code></td>
<td>计算字符串长度。</td>
</tr>
<tr>
<td>4</td>
<td><code>strip()</code></td>
<td>帮助从两侧的系列/索引中的每个字符串中删除空格(包括换行符)。</td>
</tr>
<tr>
<td>5</td>
<td><code>split(' ')</code></td>
<td>用给定的模式拆分每个字符串。</td>
</tr>
<tr>
<td>6</td>
<td><code>cat(sep=' ')</code></td>
<td>使用给定的分隔符连接系列/索引元素。</td>
</tr>
<tr>
<td>7</td>
<td><code>get_dummies()</code></td>
<td>返回具有单热编码值的数据帧(DataFrame)。</td>
</tr>
<tr>
<td>8</td>
<td><code>contains(pattern)</code></td>
<td>如果元素中包含子字符串，则返回每个元素的布尔值<code>True</code>，否则为<code>False</code>。</td>
</tr>
<tr>
<td>9</td>
<td><code>replace(a,b)</code></td>
<td>将值<code>a</code>替换为值<code>b</code>。</td>
</tr>
<tr>
<td>10</td>
<td><code>repeat(value)</code></td>
<td>重复每个元素指定的次数。</td>
</tr>
<tr>
<td>11</td>
<td><code>count(pattern)</code></td>
<td>返回模式中每个元素的出现总数。</td>
</tr>
<tr>
<td>12</td>
<td><code>startswith(pattern)</code></td>
<td>如果系列/索引中的元素以模式开始，则返回<code>true</code>。</td>
</tr>
<tr>
<td>13</td>
<td><code>endswith(pattern)</code></td>
<td>如果系列/索引中的元素以模式结束，则返回<code>true</code>。</td>
</tr>
<tr>
<td>14</td>
<td><code>find(pattern)</code></td>
<td>返回模式第一次出现的位置。</td>
</tr>
<tr>
<td>15</td>
<td><code>findall(pattern)</code></td>
<td>返回模式的所有出现的列表。</td>
</tr>
<tr>
<td>16</td>
<td><code>swapcase</code></td>
<td>变换字母大小写。</td>
</tr>
<tr>
<td>17</td>
<td><code>islower()</code></td>
<td>检查系列/索引中每个字符串中的所有字符是否小写，返回布尔值</td>
</tr>
<tr>
<td>18</td>
<td><code>isupper()</code></td>
<td>检查系列/索引中每个字符串中的所有字符是否大写，返回布尔值</td>
</tr>
<tr>
<td>19</td>
<td><code>isnumeric()</code></td>
<td>检查系列/索引中每个字符串中的所有字符是否为数字，返回布尔值。</td>
</tr>
</tbody>
</table>
<blockquote>
<p>几乎这些方法都使用<a href="http://docs.python.org/3/library/stdtypes.html#string-methods" target="_blank" rel="noopener noreferrer">Python字符串函数</a>。 因此，将Series对象转换为String对象，然后执行以上操作即可。</p>
</blockquote>
<h4 id="窗口函数" class="headerLink">
    <a href="#%e7%aa%97%e5%8f%a3%e5%87%bd%e6%95%b0" class="header-mark"></a>窗口函数</h4><blockquote>
<ul>
<li><code>rolling()</code>：滚动函数</li>
<li><code>expanding()</code>：展开函数</li>
<li><code>ewm()</code>：指数移动窗口</li>
<li><code>shift()</code>：移位函数</li>
</ul>
<p>窗口函数主要搭配统计函数来计算。</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;1/1/2020&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 1.rolling函数</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 由于窗口大小为3(window)，前两个元素有空值，第三个元素的值将是n，n-1和n-2元素的平均值</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">                  A         B         C         D
</span></span></span><span class="line"><span class="cl"><span class="s2">2020-01-01       NaN       NaN       NaN       NaN
</span></span></span><span class="line"><span class="cl"><span class="s2">2020-01-02       NaN       NaN       NaN       NaN
</span></span></span><span class="line"><span class="cl"><span class="s2">2020-01-03 -0.306293  0.214001 -0.076004 -0.200793
</span></span></span><span class="line"><span class="cl"><span class="s2">2020-01-04  0.236632 -0.437033  0.046111 -0.252062
</span></span></span><span class="line"><span class="cl"><span class="s2">2020-01-05  0.761818 -0.181635 -0.546929 -0.738482
</span></span></span><span class="line"><span class="cl"><span class="s2">2020-01-06  1.306498 -0.411834 -0.680948 -0.070285
</span></span></span><span class="line"><span class="cl"><span class="s2">2020-01-07  0.956877 -0.749315 -0.503484  0.160620
</span></span></span><span class="line"><span class="cl"><span class="s2">2020-01-08  0.354319 -1.067165 -1.238036  1.051048
</span></span></span><span class="line"><span class="cl"><span class="s2">2020-01-09  0.262081 -0.898373 -1.059351  0.342291
</span></span></span><span class="line"><span class="cl"><span class="s2">2020-01-10  0.326801 -0.350519 -1.064437  0.749869
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 2.expading函数</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">expanding</span><span class="p">(</span><span class="n">min_periods</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">                  A         B         C         D
</span></span></span><span class="line"><span class="cl"><span class="s2">2018-01-01       NaN       NaN       NaN       NaN
</span></span></span><span class="line"><span class="cl"><span class="s2">2018-01-02       NaN       NaN       NaN       NaN
</span></span></span><span class="line"><span class="cl"><span class="s2">2018-01-03 -0.425085 -0.124270 -0.324134 -0.234001
</span></span></span><span class="line"><span class="cl"><span class="s2">2018-01-04 -0.293824 -0.038188 -0.172855  0.447226
</span></span></span><span class="line"><span class="cl"><span class="s2">2018-01-05 -0.516146 -0.013441 -0.384935  0.379267
</span></span></span><span class="line"><span class="cl"><span class="s2">2018-01-06 -0.614905  0.290308 -0.594635  0.414396
</span></span></span><span class="line"><span class="cl"><span class="s2">2018-01-07 -0.606090  0.121265 -0.604148  0.246296
</span></span></span><span class="line"><span class="cl"><span class="s2">2018-01-08 -0.597291  0.075374 -0.425182  0.092831
</span></span></span><span class="line"><span class="cl"><span class="s2">2018-01-09 -0.380505  0.074956 -0.253081  0.146426
</span></span></span><span class="line"><span class="cl"><span class="s2">2018-01-10 -0.235030  0.018936 -0.259566  0.315200
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 3.ewm函数</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">ewm</span><span class="p">(</span><span class="n">com</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">                   A         B         C         D
</span></span></span><span class="line"><span class="cl"><span class="s2">2019-01-01  1.047165  0.777385 -1.286948 -0.080564
</span></span></span><span class="line"><span class="cl"><span class="s2">2019-01-02  0.484093 -0.630998 -0.975172 -0.117832
</span></span></span><span class="line"><span class="cl"><span class="s2">2019-01-03  0.056189  0.830492  0.116325  1.005547
</span></span></span><span class="line"><span class="cl"><span class="s2">2019-01-04 -0.363824  1.222173  0.497901 -0.235209
</span></span></span><span class="line"><span class="cl"><span class="s2">2019-01-05 -0.260685  1.066029  0.391480  1.196190
</span></span></span><span class="line"><span class="cl"><span class="s2">2019-01-06  0.389649  1.458152 -0.231936 -0.481003
</span></span></span><span class="line"><span class="cl"><span class="s2">2019-01-07  1.071035 -0.016003  0.387420 -0.170811
</span></span></span><span class="line"><span class="cl"><span class="s2">2019-01-08 -0.573686  1.052081  1.218439  0.829366
</span></span></span><span class="line"><span class="cl"><span class="s2">2019-01-09  0.222927  0.556430  0.811838 -0.562096
</span></span></span><span class="line"><span class="cl"><span class="s2">2019-01-10  0.224624 -1.225446  0.204961 -0.800444
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="pandas索引与选择" class="headerLink">
    <a href="#pandas%e7%b4%a2%e5%bc%95%e4%b8%8e%e9%80%89%e6%8b%a9" class="header-mark"></a>Pandas索引与选择</h3><blockquote>
<p><code>Python</code>和<code>NumPy</code>索引运算符<code>&quot;[]&quot;</code>和属性运算符<code>&quot;.&quot;</code>。 可以在广泛的用例中快速轻松地访问<em>Pandas</em>数据结构。然而，由于要访问的数据类型不是预先知道的，所以直接使用标准运算符具有一些优化限制。</p>
</blockquote>
<p>*<code>Pandas</code>*现在支持三种类型的多轴索引：</p>
<table>
<thead>
<tr>
<th>编号</th>
<th>索引</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><code>.loc()</code></td>
<td>基于标签</td>
</tr>
<tr>
<td>2</td>
<td><code>.iloc()</code></td>
<td>基于整数</td>
</tr>
<tr>
<td>3</td>
<td><code>.ix()</code></td>
<td>基于标签和整数</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 1 .loc()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># loc需要两个单/列表/范围运算符，用&#34;,&#34;分隔。第一个表示行，第二个表示列。</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="s1">&#39;e&#39;</span><span class="p">,</span><span class="s1">&#39;f&#39;</span><span class="p">,</span><span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">],</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">          A         C
</span></span></span><span class="line"><span class="cl"><span class="s2">a -0.529735 -1.067299
</span></span></span><span class="line"><span class="cl"><span class="s2">b -2.230089 -1.798575
</span></span></span><span class="line"><span class="cl"><span class="s2">c  0.685852  0.333387
</span></span></span><span class="line"><span class="cl"><span class="s2">d  1.061853  0.131853
</span></span></span><span class="line"><span class="cl"><span class="s2">e  0.990459  0.189966
</span></span></span><span class="line"><span class="cl"><span class="s2">f  0.057314 -0.370055
</span></span></span><span class="line"><span class="cl"><span class="s2">g  0.453960 -0.624419
</span></span></span><span class="line"><span class="cl"><span class="s2">h  0.666668 -0.433971
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 注意，loc行参数是index</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;f&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">],[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">          A         C
</span></span></span><span class="line"><span class="cl"><span class="s2">a -1.959731  0.720956
</span></span></span><span class="line"><span class="cl"><span class="s2">b  1.318976  0.199987
</span></span></span><span class="line"><span class="cl"><span class="s2">f -1.117735 -0.181116
</span></span></span><span class="line"><span class="cl"><span class="s2">h -0.147029  0.027369
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">A    False
</span></span></span><span class="line"><span class="cl"><span class="s2">B     True
</span></span></span><span class="line"><span class="cl"><span class="s2">C    False
</span></span></span><span class="line"><span class="cl"><span class="s2">D     True
</span></span></span><span class="line"><span class="cl"><span class="s2">Name: a, dtype: bool
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2 .iloc()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># iloc使用纯整数索引</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">          A         B         C         D
</span></span></span><span class="line"><span class="cl"><span class="s2">0  0.277146  0.274234  0.860555 -1.312323
</span></span></span><span class="line"><span class="cl"><span class="s2">1 -1.064776  2.082030  0.695930  2.409340
</span></span></span><span class="line"><span class="cl"><span class="s2">2  0.033953 -1.155217  0.113045 -0.028330
</span></span></span><span class="line"><span class="cl"><span class="s2">3  0.241075 -2.156415  0.939586 -1.670171
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">          C         D
</span></span></span><span class="line"><span class="cl"><span class="s2">1  0.893615  0.659946
</span></span></span><span class="line"><span class="cl"><span class="s2">2  0.869331 -1.443731
</span></span></span><span class="line"><span class="cl"><span class="s2">3 -0.483688 -1.167312
</span></span></span><span class="line"><span class="cl"><span class="s2">4  1.566395 -1.292206
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="p">:]</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">          A         B         C         D
</span></span></span><span class="line"><span class="cl"><span class="s2">1 -0.133711  0.081257 -0.031869  0.009109
</span></span></span><span class="line"><span class="cl"><span class="s2">2  0.895576 -0.513450 -0.048573  0.698965
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 3 .ix()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ix可以使用标签和整数的混合运算</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span><span class="s1">&#39;A&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">0    1.539915
</span></span></span><span class="line"><span class="cl"><span class="s2">1    1.359477
</span></span></span><span class="line"><span class="cl"><span class="s2">2    0.239694
</span></span></span><span class="line"><span class="cl"><span class="s2">3    0.563254
</span></span></span><span class="line"><span class="cl"><span class="s2">4    2.123950
</span></span></span><span class="line"><span class="cl"><span class="s2">5    0.341554
</span></span></span><span class="line"><span class="cl"><span class="s2">6   -0.075717
</span></span></span><span class="line"><span class="cl"><span class="s2">7   -0.606742
</span></span></span><span class="line"><span class="cl"><span class="s2">Name: A, dtype: float64
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="pandas分组聚合" class="headerLink">
    <a href="#pandas%e5%88%86%e7%bb%84%e8%81%9a%e5%90%88" class="header-mark"></a>Pandas分组聚合</h3><blockquote>
<p>任何分组(<em><code>groupby</code></em>)操作都涉及原始对象的以下操作之一。它们是 ：</p>
<ul>
<li>分割对象</li>
<li>应用一个函数</li>
<li>结合的结果</li>
</ul>
<p>在许多情况下，我们将数据分成多个集合，并在每个子集上应用一些函数。在应用函数中，可以执行以下操作 ：</p>
<ul>
<li><em>聚合</em> - 计算汇总统计</li>
<li><em>转换</em> - 执行一些特定于组的操作</li>
<li><em>过滤</em> - 在某些情况下丢弃数据</li>
</ul>
<p><code>Pandas</code>对象可以分成任何对象。有多种方式来拆分对象</p>
<ul>
<li><em><code>obj.groupby(‘key’)</code></em></li>
<li><em><code>obj.groupby([‘key1’,’key2’])</code></em></li>
<li><em><code>obj.groupby(key,axis=1)</code></em></li>
</ul>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span><span class="lnt">91
</span><span class="lnt">92
</span><span class="lnt">93
</span><span class="lnt">94
</span><span class="lnt">95
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 首先生成一个DataFrame</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ipl_data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Team&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Riders&#39;</span><span class="p">,</span> <span class="s1">&#39;Riders&#39;</span><span class="p">,</span> <span class="s1">&#39;Devils&#39;</span><span class="p">,</span> <span class="s1">&#39;Devils&#39;</span><span class="p">,</span> <span class="s1">&#39;Kings&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;kings&#39;</span><span class="p">,</span> <span class="s1">&#39;Kings&#39;</span><span class="p">,</span> <span class="s1">&#39;Kings&#39;</span><span class="p">,</span> <span class="s1">&#39;Riders&#39;</span><span class="p">,</span> <span class="s1">&#39;Royals&#39;</span><span class="p">,</span> <span class="s1">&#39;Royals&#39;</span><span class="p">,</span> <span class="s1">&#39;Riders&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;Rank&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">4</span> <span class="p">,</span><span class="mi">1</span> <span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span> <span class="p">,</span> <span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;Year&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2014</span><span class="p">,</span><span class="mi">2015</span><span class="p">,</span><span class="mi">2014</span><span class="p">,</span><span class="mi">2015</span><span class="p">,</span><span class="mi">2014</span><span class="p">,</span><span class="mi">2015</span><span class="p">,</span><span class="mi">2016</span><span class="p">,</span><span class="mi">2017</span><span class="p">,</span><span class="mi">2016</span><span class="p">,</span><span class="mi">2014</span><span class="p">,</span><span class="mi">2015</span><span class="p">,</span><span class="mi">2017</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;Points&#39;</span><span class="p">:[</span><span class="mi">876</span><span class="p">,</span><span class="mi">789</span><span class="p">,</span><span class="mi">863</span><span class="p">,</span><span class="mi">673</span><span class="p">,</span><span class="mi">741</span><span class="p">,</span><span class="mi">812</span><span class="p">,</span><span class="mi">756</span><span class="p">,</span><span class="mi">788</span><span class="p">,</span><span class="mi">694</span><span class="p">,</span><span class="mi">701</span><span class="p">,</span><span class="mi">804</span><span class="p">,</span><span class="mi">690</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ipl_data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> 
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">  Points  Rank    Team  Year
</span></span></span><span class="line"><span class="cl"><span class="s2">0      876     1  Riders  2014
</span></span></span><span class="line"><span class="cl"><span class="s2">1      789     2  Riders  2015
</span></span></span><span class="line"><span class="cl"><span class="s2">2      863     2  Devils  2014
</span></span></span><span class="line"><span class="cl"><span class="s2">3      673     3  Devils  2015
</span></span></span><span class="line"><span class="cl"><span class="s2">4      741     3   Kings  2014
</span></span></span><span class="line"><span class="cl"><span class="s2">5      812     4   kings  2015
</span></span></span><span class="line"><span class="cl"><span class="s2">6      756     1   Kings  2016
</span></span></span><span class="line"><span class="cl"><span class="s2">7      788     1   Kings  2017
</span></span></span><span class="line"><span class="cl"><span class="s2">8      694     2  Riders  2016
</span></span></span><span class="line"><span class="cl"><span class="s2">9      701     4  Royals  2014
</span></span></span><span class="line"><span class="cl"><span class="s2">10     804     1  Royals  2015
</span></span></span><span class="line"><span class="cl"><span class="s2">11     690     2  Riders  2017
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 1.分组</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Team&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># &lt;pandas.core.groupby.DataFrameGroupBy object at 0x00000245D60AD518&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2.分组内容</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Team&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">{
</span></span></span><span class="line"><span class="cl"><span class="s2">&#39;Devils&#39;: Int64Index([2, 3], dtype=&#39;int64&#39;), 
</span></span></span><span class="line"><span class="cl"><span class="s2">&#39;Kings&#39;: Int64Index([4, 6, 7], dtype=&#39;int64&#39;), 
</span></span></span><span class="line"><span class="cl"><span class="s2">&#39;Riders&#39;: Int64Index([0, 1, 8, 11], dtype=&#39;int64&#39;), 
</span></span></span><span class="line"><span class="cl"><span class="s2">&#39;Royals&#39;: Int64Index([9, 10], dtype=&#39;int64&#39;), 
</span></span></span><span class="line"><span class="cl"><span class="s2">&#39;kings&#39;: Int64Index([5], dtype=&#39;int64&#39;)
</span></span></span><span class="line"><span class="cl"><span class="s2">}
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 3.多键分组</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Team&#39;</span><span class="p">,</span><span class="s1">&#39;Year&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">groups</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">{
</span></span></span><span class="line"><span class="cl"><span class="s2">(&#39;Devils&#39;, 2014): Int64Index([2], dtype=&#39;int64&#39;), 
</span></span></span><span class="line"><span class="cl"><span class="s2">(&#39;Devils&#39;, 2015): Int64Index([3], dtype=&#39;int64&#39;), 
</span></span></span><span class="line"><span class="cl"><span class="s2">(&#39;Kings&#39;, 2014): Int64Index([4], dtype=&#39;int64&#39;),
</span></span></span><span class="line"><span class="cl"><span class="s2">(&#39;Kings&#39;, 2016): Int64Index([6], dtype=&#39;int64&#39;),
</span></span></span><span class="line"><span class="cl"><span class="s2">(&#39;Kings&#39;, 2017): Int64Index([7], dtype=&#39;int64&#39;), 
</span></span></span><span class="line"><span class="cl"><span class="s2">(&#39;Riders&#39;, 2014): Int64Index([0], dtype=&#39;int64&#39;), 
</span></span></span><span class="line"><span class="cl"><span class="s2">(&#39;Riders&#39;, 2015): Int64Index([1], dtype=&#39;int64&#39;), 
</span></span></span><span class="line"><span class="cl"><span class="s2">(&#39;Riders&#39;, 2016): Int64Index([8], dtype=&#39;int64&#39;), 
</span></span></span><span class="line"><span class="cl"><span class="s2">(&#39;Riders&#39;, 2017): Int64Index([11], dtype=&#39;int64&#39;),
</span></span></span><span class="line"><span class="cl"><span class="s2">(&#39;Royals&#39;, 2014): Int64Index([9], dtype=&#39;int64&#39;), 
</span></span></span><span class="line"><span class="cl"><span class="s2">(&#39;Royals&#39;, 2015): Int64Index([10], dtype=&#39;int64&#39;), 
</span></span></span><span class="line"><span class="cl"><span class="s2">(&#39;kings&#39;, 2015): Int64Index([5], dtype=&#39;int64&#39;)
</span></span></span><span class="line"><span class="cl"><span class="s2">}
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 4.迭代输出分组</span>
</span></span><span class="line"><span class="cl"><span class="n">grouped</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">name</span><span class="p">,</span><span class="n">group</span> <span class="ow">in</span> <span class="n">grouped</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="p">(</span><span class="n">group</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">2014
</span></span></span><span class="line"><span class="cl"><span class="s2">   Points  Rank    Team  Year
</span></span></span><span class="line"><span class="cl"><span class="s2">0     876     1  Riders  2014
</span></span></span><span class="line"><span class="cl"><span class="s2">2     863     2  Devils  2014
</span></span></span><span class="line"><span class="cl"><span class="s2">4     741     3   Kings  2014
</span></span></span><span class="line"><span class="cl"><span class="s2">9     701     4  Royals  2014
</span></span></span><span class="line"><span class="cl"><span class="s2">2015
</span></span></span><span class="line"><span class="cl"><span class="s2">    Points  Rank    Team  Year
</span></span></span><span class="line"><span class="cl"><span class="s2">1      789     2  Riders  2015
</span></span></span><span class="line"><span class="cl"><span class="s2">3      673     3  Devils  2015
</span></span></span><span class="line"><span class="cl"><span class="s2">5      812     4   kings  2015
</span></span></span><span class="line"><span class="cl"><span class="s2">10     804     1  Royals  2015
</span></span></span><span class="line"><span class="cl"><span class="s2">2016
</span></span></span><span class="line"><span class="cl"><span class="s2">   Points  Rank    Team  Year
</span></span></span><span class="line"><span class="cl"><span class="s2">6     756     1   Kings  2016
</span></span></span><span class="line"><span class="cl"><span class="s2">8     694     2  Riders  2016
</span></span></span><span class="line"><span class="cl"><span class="s2">2017
</span></span></span><span class="line"><span class="cl"><span class="s2">    Points  Rank    Team  Year
</span></span></span><span class="line"><span class="cl"><span class="s2">7      788     1   Kings  2017
</span></span></span><span class="line"><span class="cl"><span class="s2">11     690     2  Riders  2017
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 5.获取分组</span>
</span></span><span class="line"><span class="cl"><span class="n">grouped</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&#34;Year&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">grouped</span><span class="o">.</span><span class="n">get_group</span><span class="p">(</span><span class="mi">2014</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">   Points  Rank    Team  Year
</span></span></span><span class="line"><span class="cl"><span class="s2">0     876     1  Riders  2014
</span></span></span><span class="line"><span class="cl"><span class="s2">2     863     2  Devils  2014
</span></span></span><span class="line"><span class="cl"><span class="s2">4     741     3   Kings  2014
</span></span></span><span class="line"><span class="cl"><span class="s2">9     701     4  Royals  2014
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>聚合函数为每个组返回单个聚合值。当创建了分组(<em>group by</em>)对象，就可以对分组数据执行多个聚合操作。</p>
<p>一个常用的方法是<code>agg</code></p>
<p>分组或列上的转换返回索引大小与被分组的索引相同的对象。因此，转换应该返回与组块大小相同的结果。</p>
<p>转换的方法是<code>transform</code></p>
<p>过滤根据定义的标准过滤数据并返回数据的子集。</p>
<p>过滤用的方法是<code>filter</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 首先生成一个DataFrame</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ipl_data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Team&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Riders&#39;</span><span class="p">,</span> <span class="s1">&#39;Riders&#39;</span><span class="p">,</span> <span class="s1">&#39;Devils&#39;</span><span class="p">,</span> <span class="s1">&#39;Devils&#39;</span><span class="p">,</span> <span class="s1">&#39;Kings&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;kings&#39;</span><span class="p">,</span> <span class="s1">&#39;Kings&#39;</span><span class="p">,</span> <span class="s1">&#39;Kings&#39;</span><span class="p">,</span> <span class="s1">&#39;Riders&#39;</span><span class="p">,</span> <span class="s1">&#39;Royals&#39;</span><span class="p">,</span> <span class="s1">&#39;Royals&#39;</span><span class="p">,</span> <span class="s1">&#39;Riders&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;Rank&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">4</span> <span class="p">,</span><span class="mi">1</span> <span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span> <span class="p">,</span> <span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;Year&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2014</span><span class="p">,</span><span class="mi">2015</span><span class="p">,</span><span class="mi">2014</span><span class="p">,</span><span class="mi">2015</span><span class="p">,</span><span class="mi">2014</span><span class="p">,</span><span class="mi">2015</span><span class="p">,</span><span class="mi">2016</span><span class="p">,</span><span class="mi">2017</span><span class="p">,</span><span class="mi">2016</span><span class="p">,</span><span class="mi">2014</span><span class="p">,</span><span class="mi">2015</span><span class="p">,</span><span class="mi">2017</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;Points&#39;</span><span class="p">:[</span><span class="mi">876</span><span class="p">,</span><span class="mi">789</span><span class="p">,</span><span class="mi">863</span><span class="p">,</span><span class="mi">673</span><span class="p">,</span><span class="mi">741</span><span class="p">,</span><span class="mi">812</span><span class="p">,</span><span class="mi">756</span><span class="p">,</span><span class="mi">788</span><span class="p">,</span><span class="mi">694</span><span class="p">,</span><span class="mi">701</span><span class="p">,</span><span class="mi">804</span><span class="p">,</span><span class="mi">690</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ipl_data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 1.聚合函数</span>
</span></span><span class="line"><span class="cl"><span class="n">grouped</span><span class="p">[</span><span class="s1">&#39;Points&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">Year
</span></span></span><span class="line"><span class="cl"><span class="s2">2014    795.25
</span></span></span><span class="line"><span class="cl"><span class="s2">2015    769.50
</span></span></span><span class="line"><span class="cl"><span class="s2">2016    725.00
</span></span></span><span class="line"><span class="cl"><span class="s2">2017    739.00
</span></span></span><span class="line"><span class="cl"><span class="s2">Name: Points, dtype: float64
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2.多个聚合函数</span>
</span></span><span class="line"><span class="cl"><span class="n">grouped</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Team&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">agg</span> <span class="o">=</span> <span class="n">grouped</span><span class="p">[</span><span class="s1">&#39;Points&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">        sum        mean         std
</span></span></span><span class="line"><span class="cl"><span class="s2">Team                                
</span></span></span><span class="line"><span class="cl"><span class="s2">Devils  1536  768.000000  134.350288
</span></span></span><span class="line"><span class="cl"><span class="s2">Kings   2285  761.666667   24.006943
</span></span></span><span class="line"><span class="cl"><span class="s2">Riders  3049  762.250000   88.567771
</span></span></span><span class="line"><span class="cl"><span class="s2">Royals  1505  752.500000   72.831998
</span></span></span><span class="line"><span class="cl"><span class="s2">kings    812  812.000000         NaN
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 3.转换函数</span>
</span></span><span class="line"><span class="cl"><span class="n">grouped</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Team&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">score</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span> <span class="o">/</span> <span class="n">x</span><span class="o">.</span><span class="n">std</span><span class="p">()</span><span class="o">*</span><span class="mi">10</span>
</span></span><span class="line"><span class="cl"><span class="n">grouped</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">       Points       Rank       Year
</span></span></span><span class="line"><span class="cl"><span class="s2">0   12.843272 -15.000000 -11.618950
</span></span></span><span class="line"><span class="cl"><span class="s2">1    3.020286   5.000000  -3.872983
</span></span></span><span class="line"><span class="cl"><span class="s2">2    7.071068  -7.071068  -7.071068
</span></span></span><span class="line"><span class="cl"><span class="s2">3   -7.071068   7.071068   7.071068
</span></span></span><span class="line"><span class="cl"><span class="s2">4   -8.608621  11.547005 -10.910895
</span></span></span><span class="line"><span class="cl"><span class="s2">5         NaN        NaN        NaN
</span></span></span><span class="line"><span class="cl"><span class="s2">6   -2.360428  -5.773503   2.182179
</span></span></span><span class="line"><span class="cl"><span class="s2">7   10.969049  -5.773503   8.728716
</span></span></span><span class="line"><span class="cl"><span class="s2">8   -7.705963   5.000000   3.872983
</span></span></span><span class="line"><span class="cl"><span class="s2">9   -7.071068   7.071068  -7.071068
</span></span></span><span class="line"><span class="cl"><span class="s2">10   7.071068  -7.071068   7.071068
</span></span></span><span class="line"><span class="cl"><span class="s2">11  -8.157595   5.000000  11.618950
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 4.过滤函数</span>
</span></span><span class="line"><span class="cl"><span class="nb">filter</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Team&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">   Points  Rank    Team  Year
</span></span></span><span class="line"><span class="cl"><span class="s2">0      876     1  Riders  2014
</span></span></span><span class="line"><span class="cl"><span class="s2">1      789     2  Riders  2015
</span></span></span><span class="line"><span class="cl"><span class="s2">4      741     3   Kings  2014
</span></span></span><span class="line"><span class="cl"><span class="s2">6      756     1   Kings  2016
</span></span></span><span class="line"><span class="cl"><span class="s2">7      788     1   Kings  2017
</span></span></span><span class="line"><span class="cl"><span class="s2">8      694     2  Riders  2016
</span></span></span><span class="line"><span class="cl"><span class="s2">11     690     2  Riders  2017
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="pandas合并与级联" class="headerLink">
    <a href="#pandas%e5%90%88%e5%b9%b6%e4%b8%8e%e7%ba%a7%e8%81%94" class="header-mark"></a>Pandas合并与级联</h3><h4 id="pandas合并" class="headerLink">
    <a href="#pandas%e5%90%88%e5%b9%b6" class="header-mark"></a>Pandas合并</h4><blockquote>
<p>Pandas提供了一个单独的<code>merge()</code>函数来进行连接。</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">left_index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="mi">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<ul>
<li><em>left</em> - 一个DataFrame对象。</li>
<li><em>right</em> - 另一个DataFrame对象。</li>
<li><em>on</em> - 列(名称)连接，必须在左和右DataFrame对象中存在(找到)。</li>
<li><em>left_on</em> - 左侧DataFrame中的列用作键，可以是列名或长度等于DataFrame长度的数组。</li>
<li><em>right_on</em> - 来自右的DataFrame的列作为键，可以是列名或长度等于DataFrame长度的数组。</li>
<li><em>left_index</em> - 如果为<code>True</code>，则使用左侧DataFrame中的索引(行标签)作为其连接键。 在具有MultiIndex(分层)的DataFrame的情况下，级别的数量必须与来自右DataFrame的连接键的数量相匹配。</li>
<li><em>right_index</em> - 与右DataFrame的<em>left_index</em>具有相同的用法。</li>
<li><em>how</em> - 它是<em>left</em>, <em>right</em>, <em>outer</em>以及<em>inner</em>之中的一个，默认为内<em>inner</em>。 下面将介绍每种方法的用法。</li>
<li><em>sort</em> - 按照字典顺序通过连接键对结果DataFrame进行排序。默认为<code>True</code>，设置为<code>False</code>时，在很多情况下大大提高性能。</li>
</ul>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 连接实例</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="n">left</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;id&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Alex&#39;</span><span class="p">,</span> <span class="s1">&#39;Amy&#39;</span><span class="p">,</span> <span class="s1">&#39;Allen&#39;</span><span class="p">,</span> <span class="s1">&#39;Alice&#39;</span><span class="p">,</span> <span class="s1">&#39;Ayoung&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;subject_id&#39;</span><span class="p">:[</span><span class="s1">&#39;sub1&#39;</span><span class="p">,</span><span class="s1">&#39;sub2&#39;</span><span class="p">,</span><span class="s1">&#39;sub4&#39;</span><span class="p">,</span><span class="s1">&#39;sub6&#39;</span><span class="p">,</span><span class="s1">&#39;sub5&#39;</span><span class="p">]})</span>
</span></span><span class="line"><span class="cl"><span class="n">right</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">         <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Billy&#39;</span><span class="p">,</span> <span class="s1">&#39;Brian&#39;</span><span class="p">,</span> <span class="s1">&#39;Bran&#39;</span><span class="p">,</span> <span class="s1">&#39;Bryce&#39;</span><span class="p">,</span> <span class="s1">&#39;Betty&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;subject_id&#39;</span><span class="p">:[</span><span class="s1">&#39;sub2&#39;</span><span class="p">,</span><span class="s1">&#39;sub4&#39;</span><span class="p">,</span><span class="s1">&#39;sub3&#39;</span><span class="p">,</span><span class="s1">&#39;sub6&#39;</span><span class="p">,</span><span class="s1">&#39;sub5&#39;</span><span class="p">]})</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span> <span class="p">(</span><span class="n">left</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;========================================&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span> <span class="p">(</span><span class="n">right</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Name  id subject_id
</span></span></span><span class="line"><span class="cl"><span class="s2">0    Alex   1       sub1
</span></span></span><span class="line"><span class="cl"><span class="s2">1     Amy   2       sub2
</span></span></span><span class="line"><span class="cl"><span class="s2">2   Allen   3       sub4
</span></span></span><span class="line"><span class="cl"><span class="s2">3   Alice   4       sub6
</span></span></span><span class="line"><span class="cl"><span class="s2">4  Ayoung   5       sub5
</span></span></span><span class="line"><span class="cl"><span class="s2">========================================
</span></span></span><span class="line"><span class="cl"><span class="s2">    Name  id subject_id
</span></span></span><span class="line"><span class="cl"><span class="s2">0  Billy   1       sub2
</span></span></span><span class="line"><span class="cl"><span class="s2">1  Brian   2       sub4
</span></span></span><span class="line"><span class="cl"><span class="s2">2   Bran   3       sub3
</span></span></span><span class="line"><span class="cl"><span class="s2">3  Bryce   4       sub6
</span></span></span><span class="line"><span class="cl"><span class="s2">4  Betty   5       sub5
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">rs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">left</span><span class="p">,</span><span class="n">right</span><span class="p">,</span><span class="n">on</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">rs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">   Name_x  id subject_id_x Name_y subject_id_y
</span></span></span><span class="line"><span class="cl"><span class="s2">0    Alex   1         sub1  Billy         sub2
</span></span></span><span class="line"><span class="cl"><span class="s2">1     Amy   2         sub2  Brian         sub4
</span></span></span><span class="line"><span class="cl"><span class="s2">2   Allen   3         sub4   Bran         sub3
</span></span></span><span class="line"><span class="cl"><span class="s2">3   Alice   4         sub6  Bryce         sub6
</span></span></span><span class="line"><span class="cl"><span class="s2">4  Ayoung   5         sub5  Betty         sub5
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>how</code>参数与<code>sql</code>:</p>
<table>
<thead>
<tr>
<th>合并方法</th>
<th>SQL等效</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>left</code></td>
<td><code>LEFT OUTER JOIN</code></td>
<td>使用左侧对象的键</td>
</tr>
<tr>
<td><code>right</code></td>
<td><code>RIGHT OUTER JOIN</code></td>
<td>使用右侧对象的键</td>
</tr>
<tr>
<td><code>outer</code></td>
<td><code>FULL OUTER JOIN</code></td>
<td>使用键的联合</td>
</tr>
<tr>
<td><code>inner</code></td>
<td><code>INNER JOIN</code></td>
<td>使用键的交集</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">rs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;subject_id&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">  Name_x  id_x subject_id Name_y  id_y
</span></span></span><span class="line"><span class="cl"><span class="s2">0    Alex     1       sub1    NaN   NaN
</span></span></span><span class="line"><span class="cl"><span class="s2">1     Amy     2       sub2  Billy   1.0
</span></span></span><span class="line"><span class="cl"><span class="s2">2   Allen     3       sub4  Brian   2.0
</span></span></span><span class="line"><span class="cl"><span class="s2">3   Alice     4       sub6  Bryce   4.0
</span></span></span><span class="line"><span class="cl"><span class="s2">4  Ayoung     5       sub5  Betty   5.0
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">rs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;subject_id&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">   Name_x  id_x subject_id Name_y  id_y
</span></span></span><span class="line"><span class="cl"><span class="s2">0     Amy   2.0       sub2  Billy     1
</span></span></span><span class="line"><span class="cl"><span class="s2">1   Allen   3.0       sub4  Brian     2
</span></span></span><span class="line"><span class="cl"><span class="s2">2   Alice   4.0       sub6  Bryce     4
</span></span></span><span class="line"><span class="cl"><span class="s2">3  Ayoung   5.0       sub5  Betty     5
</span></span></span><span class="line"><span class="cl"><span class="s2">4     NaN   NaN       sub3   Bran     3
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="pandas级联" class="headerLink">
    <a href="#pandas%e7%ba%a7%e8%81%94" class="header-mark"></a>Pandas级联</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">objs</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">join</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">,</span><span class="n">join_axes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">ignore_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<ul>
<li><em>objs</em> - 这是Series，DataFrame或Panel对象的序列或映射。</li>
<li><em>axis</em> - <code>{0，1，...}</code>，默认为<code>0</code>，这是连接的轴。</li>
<li><em>join</em> - <code>{'inner', 'outer'}</code>，默认<code>inner</code>。如何处理其他轴上的索引。联合的外部和交叉的内部。</li>
<li><em>ignore_index</em> − 布尔值，默认为<code>False</code>。如果指定为<code>True</code>，则不要使用连接轴上的索引值。结果轴将被标记为：<code>0，...，n-1</code>。</li>
<li><em>join_axes</em> - 这是Index对象的列表。用于其他<code>(n-1)</code>轴的特定索引，而不是执行内部/外部集逻辑。</li>
</ul>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="n">one</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Alex&#39;</span><span class="p">,</span> <span class="s1">&#39;Amy&#39;</span><span class="p">,</span> <span class="s1">&#39;Allen&#39;</span><span class="p">,</span> <span class="s1">&#39;Alice&#39;</span><span class="p">,</span> <span class="s1">&#39;Ayoung&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;subject_id&#39;</span><span class="p">:[</span><span class="s1">&#39;sub1&#39;</span><span class="p">,</span><span class="s1">&#39;sub2&#39;</span><span class="p">,</span><span class="s1">&#39;sub4&#39;</span><span class="p">,</span><span class="s1">&#39;sub6&#39;</span><span class="p">,</span><span class="s1">&#39;sub5&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;Marks_scored&#39;</span><span class="p">:[</span><span class="mi">98</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">87</span><span class="p">,</span><span class="mi">69</span><span class="p">,</span><span class="mi">78</span><span class="p">]},</span>
</span></span><span class="line"><span class="cl">         <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">two</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Billy&#39;</span><span class="p">,</span> <span class="s1">&#39;Brian&#39;</span><span class="p">,</span> <span class="s1">&#39;Bran&#39;</span><span class="p">,</span> <span class="s1">&#39;Bryce&#39;</span><span class="p">,</span> <span class="s1">&#39;Betty&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;subject_id&#39;</span><span class="p">:[</span><span class="s1">&#39;sub2&#39;</span><span class="p">,</span><span class="s1">&#39;sub4&#39;</span><span class="p">,</span><span class="s1">&#39;sub3&#39;</span><span class="p">,</span><span class="s1">&#39;sub6&#39;</span><span class="p">,</span><span class="s1">&#39;sub5&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;Marks_scored&#39;</span><span class="p">:[</span><span class="mi">89</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">79</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="mi">88</span><span class="p">]},</span>
</span></span><span class="line"><span class="cl">         <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">rs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">one</span><span class="p">,</span><span class="n">two</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">rs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2"> Marks_scored    Name subject_id
</span></span></span><span class="line"><span class="cl"><span class="s2">1            98    Alex       sub1
</span></span></span><span class="line"><span class="cl"><span class="s2">2            90     Amy       sub2
</span></span></span><span class="line"><span class="cl"><span class="s2">3            87   Allen       sub4
</span></span></span><span class="line"><span class="cl"><span class="s2">4            69   Alice       sub6
</span></span></span><span class="line"><span class="cl"><span class="s2">5            78  Ayoung       sub5
</span></span></span><span class="line"><span class="cl"><span class="s2">1            89   Billy       sub2
</span></span></span><span class="line"><span class="cl"><span class="s2">2            80   Brian       sub4
</span></span></span><span class="line"><span class="cl"><span class="s2">3            79    Bran       sub3
</span></span></span><span class="line"><span class="cl"><span class="s2">4            97   Bryce       sub6
</span></span></span><span class="line"><span class="cl"><span class="s2">5            88   Betty       sub5
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">rs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">one</span><span class="p">,</span><span class="n">two</span><span class="p">],</span><span class="n">keys</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">],</span><span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">rs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">   Marks_scored    Name subject_id
</span></span></span><span class="line"><span class="cl"><span class="s2">0            98    Alex       sub1
</span></span></span><span class="line"><span class="cl"><span class="s2">1            90     Amy       sub2
</span></span></span><span class="line"><span class="cl"><span class="s2">2            87   Allen       sub4
</span></span></span><span class="line"><span class="cl"><span class="s2">3            69   Alice       sub6
</span></span></span><span class="line"><span class="cl"><span class="s2">4            78  Ayoung       sub5
</span></span></span><span class="line"><span class="cl"><span class="s2">5            89   Billy       sub2
</span></span></span><span class="line"><span class="cl"><span class="s2">6            80   Brian       sub4
</span></span></span><span class="line"><span class="cl"><span class="s2">7            79    Bran       sub3
</span></span></span><span class="line"><span class="cl"><span class="s2">8            97   Bryce       sub6
</span></span></span><span class="line"><span class="cl"><span class="s2">9            88   Betty       sub5
</span></span></span><span class="line"><span class="cl"><span class="s2">  &#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 附加连接 append</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="n">one</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Alex&#39;</span><span class="p">,</span> <span class="s1">&#39;Amy&#39;</span><span class="p">,</span> <span class="s1">&#39;Allen&#39;</span><span class="p">,</span> <span class="s1">&#39;Alice&#39;</span><span class="p">,</span> <span class="s1">&#39;Ayoung&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;subject_id&#39;</span><span class="p">:[</span><span class="s1">&#39;sub1&#39;</span><span class="p">,</span><span class="s1">&#39;sub2&#39;</span><span class="p">,</span><span class="s1">&#39;sub4&#39;</span><span class="p">,</span><span class="s1">&#39;sub6&#39;</span><span class="p">,</span><span class="s1">&#39;sub5&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;Marks_scored&#39;</span><span class="p">:[</span><span class="mi">98</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">87</span><span class="p">,</span><span class="mi">69</span><span class="p">,</span><span class="mi">78</span><span class="p">]},</span>
</span></span><span class="line"><span class="cl">         <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">two</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Billy&#39;</span><span class="p">,</span> <span class="s1">&#39;Brian&#39;</span><span class="p">,</span> <span class="s1">&#39;Bran&#39;</span><span class="p">,</span> <span class="s1">&#39;Bryce&#39;</span><span class="p">,</span> <span class="s1">&#39;Betty&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;subject_id&#39;</span><span class="p">:[</span><span class="s1">&#39;sub2&#39;</span><span class="p">,</span><span class="s1">&#39;sub4&#39;</span><span class="p">,</span><span class="s1">&#39;sub3&#39;</span><span class="p">,</span><span class="s1">&#39;sub6&#39;</span><span class="p">,</span><span class="s1">&#39;sub5&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;Marks_scored&#39;</span><span class="p">:[</span><span class="mi">89</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">79</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="mi">88</span><span class="p">]},</span>
</span></span><span class="line"><span class="cl">         <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">rs</span> <span class="o">=</span> <span class="n">one</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">two</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">rs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">   Marks_scored    Name subject_id
</span></span></span><span class="line"><span class="cl"><span class="s2">1            98    Alex       sub1
</span></span></span><span class="line"><span class="cl"><span class="s2">2            90     Amy       sub2
</span></span></span><span class="line"><span class="cl"><span class="s2">3            87   Allen       sub4
</span></span></span><span class="line"><span class="cl"><span class="s2">4            69   Alice       sub6
</span></span></span><span class="line"><span class="cl"><span class="s2">5            78  Ayoung       sub5
</span></span></span><span class="line"><span class="cl"><span class="s2">1            89   Billy       sub2
</span></span></span><span class="line"><span class="cl"><span class="s2">2            80   Brian       sub4
</span></span></span><span class="line"><span class="cl"><span class="s2">3            79    Bran       sub3
</span></span></span><span class="line"><span class="cl"><span class="s2">4            97   Bryce       sub6
</span></span></span><span class="line"><span class="cl"><span class="s2">5            88   Betty       sub5
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="pandas时间工具" class="headerLink">
    <a href="#pandas%e6%97%b6%e9%97%b4%e5%b7%a5%e5%85%b7" class="header-mark"></a>Pandas时间工具</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 时间工具实例</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 1.获取当前时间</span>
</span></span><span class="line"><span class="cl"><span class="n">pd</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># datetime.datetime(2019, 1, 10, 10, 56, 6, 388470)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2.创建时间戳</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2019-11-01&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2019-11-01 00:00:00</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 3.创建时间范围</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s2">&#34;12:00&#34;</span><span class="p">,</span> <span class="s2">&#34;23:59&#34;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s2">&#34;30min&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">time</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">[datetime.time(12, 0) datetime.time(12, 30) datetime.time(13, 0)
</span></span></span><span class="line"><span class="cl"><span class="s2"> datetime.time(13, 30) datetime.time(14, 0) datetime.time(14, 30)
</span></span></span><span class="line"><span class="cl"><span class="s2"> datetime.time(15, 0) datetime.time(15, 30) datetime.time(16, 0)
</span></span></span><span class="line"><span class="cl"><span class="s2"> datetime.time(16, 30) datetime.time(17, 0) datetime.time(17, 30)
</span></span></span><span class="line"><span class="cl"><span class="s2"> datetime.time(18, 0) datetime.time(18, 30) datetime.time(19, 0)
</span></span></span><span class="line"><span class="cl"><span class="s2"> datetime.time(19, 30) datetime.time(20, 0) datetime.time(20, 30)
</span></span></span><span class="line"><span class="cl"><span class="s2"> datetime.time(21, 0) datetime.time(21, 30) datetime.time(22, 0)
</span></span></span><span class="line"><span class="cl"><span class="s2"> datetime.time(22, 30) datetime.time(23, 0) datetime.time(23, 30)]
</span></span></span><span class="line"><span class="cl"><span class="s2"> &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 4.改变时间频率</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">[datetime.time(12, 0) datetime.time(13, 0) datetime.time(14, 0)
</span></span></span><span class="line"><span class="cl"><span class="s2"> datetime.time(15, 0) datetime.time(16, 0) datetime.time(17, 0)
</span></span></span><span class="line"><span class="cl"><span class="s2"> datetime.time(18, 0) datetime.time(19, 0) datetime.time(20, 0)
</span></span></span><span class="line"><span class="cl"><span class="s2"> datetime.time(21, 0) datetime.time(22, 0) datetime.time(23, 0)]
</span></span></span><span class="line"><span class="cl"><span class="s2"> &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 5.转换时间戳</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 要转换类似日期的对象(例如字符串，时代或混合)的序列或类似列表的对象，可以使用to_datetime函数。</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 当传递时将返回一个Series(具有相同的索引)，而类似列表被转换为DatetimeIndex</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;Jul 31, 2009&#39;</span><span class="p">,</span><span class="s1">&#39;2019-10-10&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">0   2009-07-31
</span></span></span><span class="line"><span class="cl"><span class="s2">1   2019-10-10
</span></span></span><span class="line"><span class="cl"><span class="s2">2          NaT
</span></span></span><span class="line"><span class="cl"><span class="s2">dtype: datetime64[ns]
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 6.时间差函数 Timedelta</span>
</span></span><span class="line"><span class="cl"><span class="n">timediff</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="n">unit</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 0 days 06:00:00</span>
</span></span><span class="line"><span class="cl"><span class="n">timediff</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2 days 00:00:00</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="pandas类别数据" class="headerLink">
    <a href="#pandas%e7%b1%bb%e5%88%ab%e6%95%b0%e6%8d%ae" class="header-mark"></a>Pandas类别数据</h3><blockquote>
<p>通常实时的数据包括重复的文本列。例如：性别，国家和代码等特征总是重复的。这些是分类数据的例子。</p>
<p>分类变量只能采用有限的数量，而且通常是固定的数量。除了固定长度，分类数据可能有顺序，但不能执行数字操作。 分类是*<code>Pandas</code>*数据类型。</p>
<p>分类数据类型在以下情况下非常有用 :</p>
<ul>
<li>一个字符串变量，只包含几个不同的值。将这样的字符串变量转换为分类变量将会节省一些内存。</li>
<li>变量的词汇顺序与逻辑顺序(<code>&quot;one&quot;</code>，<code>&quot;two&quot;</code>，<code>&quot;three&quot;</code>)不同。 通过转换为分类并指定类别上的顺序，排序和最小/最大将使用逻辑顺序，而不是词法顺序。</li>
<li>作为其他python库的一个信号，这个列应该被当作一个分类变量(例如，使用合适的统计方法或<code>plot</code>类型)。</li>
</ul>
<p>分类对象可以通过多种方式创建。</p>
<ul>
<li><code>pandas</code>对象创建中将<code>dtype</code>指定为<code>category</code></li>
<li><code>pd.Categorical</code></li>
</ul>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 1.第一种，指定类型</span>
</span></span><span class="line"><span class="cl"><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s2">&#34;a&#34;</span><span class="p">,</span><span class="s2">&#34;b&#34;</span><span class="p">,</span><span class="s2">&#34;c&#34;</span><span class="p">,</span><span class="s2">&#34;a&#34;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&#34;category&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">s</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">0    a
</span></span></span><span class="line"><span class="cl"><span class="s2">1    b
</span></span></span><span class="line"><span class="cl"><span class="s2">2    c
</span></span></span><span class="line"><span class="cl"><span class="s2">3    a
</span></span></span><span class="line"><span class="cl"><span class="s2">dtype: category
</span></span></span><span class="line"><span class="cl"><span class="s2">Categories (3, object): [a, b, c]
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2.第二种，使用Categorical</span>
</span></span><span class="line"><span class="cl"><span class="n">cat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">cat</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">[a, b, c, a, b, c]
</span></span></span><span class="line"><span class="cl"><span class="s2">Categories (3, object): [a, b, c]
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">cat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">],</span><span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">cat</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">[a, b, c, a, b, c, NaN]
</span></span></span><span class="line"><span class="cl"><span class="s2">Categories (3, object): [c &lt; b &lt; a]
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="pandas-io工具" class="headerLink">
    <a href="#pandas-io%e5%b7%a5%e5%85%b7" class="header-mark"></a>Pandas IO工具</h3><blockquote>
<p>Pandas I/O API是一套<code>pd.read_xxx()</code>，返回<code>Pandas</code>对象的顶级读取器函数。</p>
<p>例如：</p>
<ul>
<li><code>read_csv</code></li>
<li><code>read_excel</code></li>
<li><code>read_table</code></li>
<li><code>read_sql</code></li>
<li>等等</li>
</ul>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s1">&#39;infer&#39;</span><span class="p">,</span><span class="n">names</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">index_col</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="pandas自定义设置" class="headerLink">
    <a href="#pandas%e8%87%aa%e5%ae%9a%e4%b9%89%e8%ae%be%e7%bd%ae" class="header-mark"></a>Pandas自定义设置</h3><blockquote>
<p>API由五个相关函数组成。它们分别是：</p>
<ul>
<li><em><code>get_option()</code></em></li>
<li><em><code>set_option()</code></em></li>
<li><em><code>reset_option()</code></em></li>
<li><em><code>describe_option()</code></em></li>
<li><em><code>option_context()</code></em></li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>编号</th>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><code>display.max_rows</code></td>
<td>要显示的最大行数</td>
</tr>
<tr>
<td>2</td>
<td><code>display.max_columns</code></td>
<td>要显示的最大列数</td>
</tr>
<tr>
<td>3</td>
<td><code>display.expand_frame_repr</code></td>
<td>显示数据帧以拉伸页面</td>
</tr>
<tr>
<td>4</td>
<td><code>display.max_colwidth</code></td>
<td>显示最大列宽</td>
</tr>
<tr>
<td>5</td>
<td><code>display.precision</code></td>
<td>显示十进制数的精度</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 1.get_option</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span> <span class="p">(</span><span class="s2">&#34;display.max_rows = &#34;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="s2">&#34;display.max_rows&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="c1"># display.max_rows =  60</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2.set_option</span>
</span></span><span class="line"><span class="cl"><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">&#34;display.max_rows&#34;</span><span class="p">,</span><span class="mi">80</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span> <span class="p">(</span><span class="s2">&#34;after set display.max_rows = &#34;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="s2">&#34;display.max_rows&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="c1"># display.max_rows =  80</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="pandas运用实例" class="headerLink">
    <a href="#pandas%e8%bf%90%e7%94%a8%e5%ae%9e%e4%be%8b" class="header-mark"></a>Pandas运用实例</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> 
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 读入数据或者创建数据</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 1.读入csv文件</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;city.csv&#39;</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2.或者使用pandas创建df</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&#34;id&#34;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="s2">&#34;date&#34;</span><span class="p">:</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130102&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">6</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                   <span class="s2">&#34;city&#34;</span><span class="p">:[</span><span class="s1">&#39;Beijing &#39;</span><span class="p">,</span> <span class="s1">&#39;SH&#39;</span><span class="p">,</span> <span class="s1">&#39; guangzhou &#39;</span><span class="p">,</span> <span class="s1">&#39;Shenzhen&#39;</span><span class="p">,</span> <span class="s1">&#39;shanghai&#39;</span><span class="p">,</span> <span class="s1">&#39;BEIJING &#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="s2">&#34;age&#34;</span><span class="p">:[</span><span class="mi">23</span><span class="p">,</span><span class="mi">44</span><span class="p">,</span><span class="mi">54</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">32</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="s2">&#34;category&#34;</span><span class="p">:[</span><span class="s1">&#39;100-A&#39;</span><span class="p">,</span><span class="s1">&#39;100-B&#39;</span><span class="p">,</span><span class="s1">&#39;110-A&#39;</span><span class="p">,</span><span class="s1">&#39;110-C&#39;</span><span class="p">,</span><span class="s1">&#39;210-A&#39;</span><span class="p">,</span><span class="s1">&#39;130-F&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="s2">&#34;price&#34;</span><span class="p">:[</span><span class="mi">1200</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span><span class="mi">2133</span><span class="p">,</span><span class="mi">5433</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span><span class="mi">4432</span><span class="p">]},</span>
</span></span><span class="line"><span class="cl">                  <span class="n">columns</span> <span class="o">=</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="s1">&#39;city&#39;</span><span class="p">,</span><span class="s1">&#39;category&#39;</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">,</span><span class="s1">&#39;price&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">df1</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&#34;id&#34;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                  <span class="s2">&#34;gender&#34;</span><span class="p">[</span><span class="s1">&#39;male&#39;</span><span class="p">,</span><span class="s1">&#39;female&#39;</span><span class="p">,</span><span class="s1">&#39;male&#39;</span><span class="p">,</span><span class="s1">&#39;female&#39;</span><span class="p">,</span><span class="s1">&#39;male&#39;</span><span class="p">,</span><span class="s1">&#39;female&#39;</span><span class="p">,</span><span class="s1">&#39;male&#39;</span><span class="p">,</span><span class="s1">&#39;female&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                  <span class="s2">&#34;pay&#34;</span><span class="p">:[</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span><span class="s1">&#39;N&#39;</span><span class="p">,</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span><span class="s1">&#39;N&#39;</span><span class="p">,</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span><span class="s1">&#39;N&#39;</span><span class="p">,</span><span class="s1">&#39;Y&#39;</span><span class="p">,],</span>
</span></span><span class="line"><span class="cl">                  <span class="s2">&#34;m-point&#34;</span><span class="p">:[</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">20</span><span class="p">]})</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 基本信息查看</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 3.查看shape维度</span>
</span></span><span class="line"><span class="cl"><span class="c1"># (6, 6)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 4.查看info</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s2">RangeIndex: 6 entries, 0 to 5
</span></span></span><span class="line"><span class="cl"><span class="s2">Data columns (total 6 columns):
</span></span></span><span class="line"><span class="cl"><span class="s2">id          6 non-null int64
</span></span></span><span class="line"><span class="cl"><span class="s2">date        6 non-null datetime64[ns]
</span></span></span><span class="line"><span class="cl"><span class="s2">city        6 non-null object
</span></span></span><span class="line"><span class="cl"><span class="s2">category    6 non-null object
</span></span></span><span class="line"><span class="cl"><span class="s2">age         6 non-null int64
</span></span></span><span class="line"><span class="cl"><span class="s2">price       4 non-null float64
</span></span></span><span class="line"><span class="cl"><span class="s2">dtypes: datetime64[ns](1), float64(1), int64(2), object(2)
</span></span></span><span class="line"><span class="cl"><span class="s2">memory usage: 368.0+ bytes
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 5.查看数据类型</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">id                   int64
</span></span></span><span class="line"><span class="cl"><span class="s2">date        datetime64[ns]
</span></span></span><span class="line"><span class="cl"><span class="s2">city                object
</span></span></span><span class="line"><span class="cl"><span class="s2">category            object
</span></span></span><span class="line"><span class="cl"><span class="s2">age                  int64
</span></span></span><span class="line"><span class="cl"><span class="s2">price              float64
</span></span></span><span class="line"><span class="cl"><span class="s2">dtype: object
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 6.查看空值 </span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">	id	date	city	category	age	price
</span></span></span><span class="line"><span class="cl"><span class="s2">0	False	False	False	False	False	False
</span></span></span><span class="line"><span class="cl"><span class="s2">1	False	False	False	False	False	True
</span></span></span><span class="line"><span class="cl"><span class="s2">2	False	False	False	False	False	False
</span></span></span><span class="line"><span class="cl"><span class="s2">3	False	False	False	False	False	False
</span></span></span><span class="line"><span class="cl"><span class="s2">4	False	False	False	False	False	True
</span></span></span><span class="line"><span class="cl"><span class="s2">5	False	False	False	False	False	False
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 7.查看列名</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">Index([&#39;id&#39;, &#39;date&#39;, &#39;city&#39;, &#39;category&#39;, &#39;age&#39;, &#39;price&#39;], dtype=&#39;object&#39;)
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">## 数据清洗</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 8.填充缺失值</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 使用均值填充缺失值</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;prince&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;prince&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 9.大小写转换</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 10.更改列名</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;category&#39;</span><span class="p">:</span> <span class="s1">&#39;category-size&#39;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 11.更改数据类型</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 12.去除重复值</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">keep</span><span class="o">=</span><span class="s1">&#39;last&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 13.数据替换</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;sh&#39;</span><span class="p">,</span> <span class="s1">&#39;shanghai&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 14.合并数据集</span>
</span></span><span class="line"><span class="cl"><span class="n">df_inner</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="n">df1</span><span class="p">,</span><span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span> <span class="c1"># 匹配合并，交集</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 15.设置索引</span>
</span></span><span class="line"><span class="cl"><span class="n">df_inner</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 16.排序</span>
</span></span><span class="line"><span class="cl"><span class="n">df_inner</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 17.根据条件处理新的一列</span>
</span></span><span class="line"><span class="cl"><span class="n">df_inner</span><span class="p">[</span><span class="s1">&#39;group&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df_inner</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">3000</span><span class="p">,</span><span class="s1">&#39;high&#39;</span><span class="p">,</span><span class="s1">&#39;low&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 18.判断city列是否存在某个值</span>
</span></span><span class="line"><span class="cl"><span class="n">df_inner</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;beijing&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 19.数据筛选</span>
</span></span><span class="line"><span class="cl"><span class="n">df_inner</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df_inner</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">25</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df_inner</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;beijing&#39;</span><span class="p">),</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;city&#39;</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">,</span><span class="s1">&#39;category&#39;</span><span class="p">,</span><span class="s1">&#39;gender&#39;</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="n">df_inner</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;city == [&#34;beijing&#34;, &#34;shanghai&#34;]&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">### 数据汇总统计</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 20.对city统计</span>
</span></span><span class="line"><span class="cl"><span class="n">df_inner</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;city&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 21.根据city分组，并计算price的均值，总和，个数</span>
</span></span><span class="line"><span class="cl"><span class="n">df_inner</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;city&#39;</span><span class="p">)[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="nb">len</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 22.样本抽样,放回采样</span>
</span></span><span class="line"><span class="cl"><span class="n">df_inner</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 23.计算两个字段的方差</span>
</span></span><span class="line"><span class="cl"><span class="n">df_inner</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">cov</span><span class="p">(</span><span class="n">df_inner</span><span class="p">[</span><span class="s1">&#39;m-point&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 24.计算所有字段之间的相关系数</span>
</span></span><span class="line"><span class="cl"><span class="n">df_inner</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 25.最后输出到csv</span>
</span></span><span class="line"><span class="cl"><span class="n">df_inner</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;excel_to_python.csv&#39;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="pandas参考函数api" class="headerLink">
    <a href="#pandas%e5%8f%82%e8%80%83%e5%87%bd%e6%95%b0api" class="header-mark"></a>Pandas参考函数API</h3><h4 id="构造函数" class="headerLink">
    <a href="#%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0" class="header-mark"></a>构造函数</h4><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>DataFrame([data, index, columns, dtype, copy])</td>
<td>构造数据框</td>
</tr>
</tbody>
</table>
<h4 id="属性和数据" class="headerLink">
    <a href="#%e5%b1%9e%e6%80%a7%e5%92%8c%e6%95%b0%e6%8d%ae" class="header-mark"></a>属性和数据</h4><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>Axes</td>
<td>index: row labels；columns: column labels</td>
</tr>
<tr>
<td>DataFrame.as_matrix([columns])</td>
<td>转换为矩阵</td>
</tr>
<tr>
<td>DataFrame.dtypes</td>
<td>返回数据的类型</td>
</tr>
<tr>
<td>DataFrame.ftypes</td>
<td>Return the ftypes (indication of sparse/dense and dtype) in this object.</td>
</tr>
<tr>
<td>DataFrame.get_dtype_counts()</td>
<td>返回数据框数据类型的个数</td>
</tr>
<tr>
<td>DataFrame.get_ftype_counts()</td>
<td>Return the counts of ftypes in this object.</td>
</tr>
<tr>
<td>DataFrame.select_dtypes([include, exclude])</td>
<td>根据数据类型选取子数据框</td>
</tr>
<tr>
<td>DataFrame.values</td>
<td>Numpy的展示方式</td>
</tr>
<tr>
<td>DataFrame.axes</td>
<td>返回横纵坐标的标签名</td>
</tr>
<tr>
<td>DataFrame.ndim</td>
<td>返回数据框的纬度</td>
</tr>
<tr>
<td>DataFrame.size</td>
<td>返回数据框元素的个数</td>
</tr>
<tr>
<td>DataFrame.shape</td>
<td>返回数据框的形状</td>
</tr>
<tr>
<td>DataFrame.memory_usage([index, deep])</td>
<td>Memory usage of DataFrame columns.</td>
</tr>
</tbody>
</table>
<h4 id="类型转换" class="headerLink">
    <a href="#%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2" class="header-mark"></a>类型转换</h4><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>DataFrame.astype(dtype[, copy, errors])</td>
<td>转换数据类型</td>
</tr>
<tr>
<td>DataFrame.copy([deep])</td>
<td>复制数据框</td>
</tr>
<tr>
<td>DataFrame.isnull()</td>
<td>以布尔的方式返回空值</td>
</tr>
<tr>
<td>DataFrame.notnull()</td>
<td>以布尔的方式返回非空值</td>
</tr>
</tbody>
</table>
<h4 id="索引和迭代" class="headerLink">
    <a href="#%e7%b4%a2%e5%bc%95%e5%92%8c%e8%bf%ad%e4%bb%a3" class="header-mark"></a>索引和迭代</h4><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>DataFrame.head([n])</td>
<td>返回前n行数据</td>
</tr>
<tr>
<td>DataFrame.at</td>
<td>快速标签常量访问器</td>
</tr>
<tr>
<td>DataFrame.iat</td>
<td>快速整型常量访问器</td>
</tr>
<tr>
<td>DataFrame.loc</td>
<td>标签定位</td>
</tr>
<tr>
<td>DataFrame.iloc</td>
<td>整型定位</td>
</tr>
<tr>
<td>DataFrame.insert(loc, column, value[, …])</td>
<td>在特殊地点插入行</td>
</tr>
<tr>
<td>DataFrame.<strong>iter</strong>()</td>
<td>Iterate over infor axis</td>
</tr>
<tr>
<td>DataFrame.iteritems()</td>
<td>返回列名和序列的迭代器</td>
</tr>
<tr>
<td>DataFrame.iterrows()</td>
<td>返回索引和序列的迭代器</td>
</tr>
<tr>
<td>DataFrame.itertuples([index, name])</td>
<td>Iterate over DataFrame rows as namedtuples, with index value as first element of the tuple.</td>
</tr>
<tr>
<td>DataFrame.lookup(row_labels, col_labels)</td>
<td>Label-based “fancy indexing” function for DataFrame.</td>
</tr>
<tr>
<td>DataFrame.pop(item)</td>
<td>返回删除的项目</td>
</tr>
<tr>
<td>DataFrame.tail([n])</td>
<td>返回最后n行</td>
</tr>
<tr>
<td>DataFrame.xs(key[, axis, level, drop_level])</td>
<td>Returns a cross-section (row(s) or column(s)) from the Series/DataFrame.</td>
</tr>
<tr>
<td>DataFrame.isin(values)</td>
<td>是否包含数据框中的元素</td>
</tr>
<tr>
<td>DataFrame.where(cond[, other, inplace, …])</td>
<td>条件筛选</td>
</tr>
<tr>
<td>DataFrame.mask(cond[, other, inplace, axis, …])</td>
<td>Return an object of same shape as self and whose corresponding entries are from self where cond is False and otherwise are from other.</td>
</tr>
<tr>
<td>DataFrame.query(expr[, inplace])</td>
<td>Query the columns of a frame with a boolean expression.</td>
</tr>
</tbody>
</table>
<h4 id="二元运算" class="headerLink">
    <a href="#%e4%ba%8c%e5%85%83%e8%bf%90%e7%ae%97" class="header-mark"></a>二元运算</h4><table>
<thead>
<tr>
<th style="text-align:left">方法</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">DataFrame.add(other[, axis, level, fill_value])</td>
<td style="text-align:left">加法，元素指向</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.sub(other[, axis, level, fill_value])</td>
<td style="text-align:left">减法，元素指向</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.mul(other[, axis, level, fill_value])</td>
<td style="text-align:left">乘法，元素指向</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.div(other[, axis, level, fill_value])</td>
<td style="text-align:left">小数除法，元素指向</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.truediv(other[, axis, level, …])</td>
<td style="text-align:left">真除法，元素指向</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.floordiv(other[, axis, level, …])</td>
<td style="text-align:left">向下取整除法，元素指向</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.mod(other[, axis, level, fill_value])</td>
<td style="text-align:left">模运算，元素指向</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.pow(other[, axis, level, fill_value])</td>
<td style="text-align:left">幂运算，元素指向</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.radd(other[, axis, level, fill_value])</td>
<td style="text-align:left">右侧加法，元素指向</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.rsub(other[, axis, level, fill_value])</td>
<td style="text-align:left">右侧减法，元素指向</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.rmul(other[, axis, level, fill_value])</td>
<td style="text-align:left">右侧乘法，元素指向</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.rdiv(other[, axis, level, fill_value])</td>
<td style="text-align:left">右侧小数除法，元素指向</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.rtruediv(other[, axis, level, …])</td>
<td style="text-align:left">右侧真除法，元素指向</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.rfloordiv(other[, axis, level, …])</td>
<td style="text-align:left">右侧向下取整除法，元素指向</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.rmod(other[, axis, level, fill_value])</td>
<td style="text-align:left">右侧模运算，元素指向</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.rpow(other[, axis, level, fill_value])</td>
<td style="text-align:left">右侧幂运算，元素指向</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.lt(other[, axis, level])</td>
<td style="text-align:left">类似Array.lt</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.gt(other[, axis, level])</td>
<td style="text-align:left">类似Array.gt</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.le(other[, axis, level])</td>
<td style="text-align:left">类似Array.le</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.ge(other[, axis, level])</td>
<td style="text-align:left">类似Array.ge</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.ne(other[, axis, level])</td>
<td style="text-align:left">类似Array.ne</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.eq(other[, axis, level])</td>
<td style="text-align:left">类似Array.eq</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.combine(other, func[, fill_value, …])</td>
<td style="text-align:left">Add two DataFrame objects and do not propagate NaN values, so if for a</td>
</tr>
<tr>
<td style="text-align:left">DataFrame.combine_first(other)</td>
<td style="text-align:left">Combine two DataFrame objects and default to non-null values in frame calling the method.</td>
</tr>
</tbody>
</table>
<h4 id="函数应用分组窗口" class="headerLink">
    <a href="#%e5%87%bd%e6%95%b0%e5%ba%94%e7%94%a8%e5%88%86%e7%bb%84%e7%aa%97%e5%8f%a3" class="header-mark"></a>函数应用&amp;分组&amp;窗口</h4><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>[DataFrame.apply(func<a href="http://blog.csdn.net/claroja/article/details/74009232" target="_blank" rel="noopener noreferrer">, axis, broadcast, …])</a></td>
<td>应用函数</td>
</tr>
<tr>
<td>DataFrame.applymap(func)</td>
<td>Apply a function to a DataFrame that is intended to operate elementwise, i.e.</td>
</tr>
<tr>
<td>DataFrame.aggregate(func[, axis])</td>
<td>Aggregate using callable, string, dict, or list of string/callables</td>
</tr>
<tr>
<td>DataFrame.transform(func, *args, **kwargs)</td>
<td>Call function producing a like-indexed NDFrame</td>
</tr>
<tr>
<td>DataFrame.groupby([by, axis, level, …])</td>
<td>分组</td>
</tr>
<tr>
<td>DataFrame.rolling(window[, min_periods, …])</td>
<td>滚动窗口</td>
</tr>
<tr>
<td>DataFrame.expanding([min_periods, freq, …])</td>
<td>拓展窗口</td>
</tr>
<tr>
<td>DataFrame.ewm([com, span, halflife, alpha, …])</td>
<td>指数权重窗口</td>
</tr>
</tbody>
</table>
<h4 id="描述统计学" class="headerLink">
    <a href="#%e6%8f%8f%e8%bf%b0%e7%bb%9f%e8%ae%a1%e5%ad%a6" class="header-mark"></a>描述统计学</h4><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>DataFrame.abs()</td>
<td>返回绝对值</td>
</tr>
<tr>
<td>DataFrame.all([axis, bool_only, skipna, level])</td>
<td>Return whether all elements are True over requested axis</td>
</tr>
<tr>
<td>DataFrame.any([axis, bool_only, skipna, level])</td>
<td>Return whether any element is True over requested axis</td>
</tr>
<tr>
<td>DataFrame.clip([lower, upper, axis])</td>
<td>Trim values at input threshold(s).</td>
</tr>
<tr>
<td>DataFrame.clip_lower(threshold[, axis])</td>
<td>Return copy of the input with values below given value(s) truncated.</td>
</tr>
<tr>
<td>DataFrame.clip_upper(threshold[, axis])</td>
<td>Return copy of input with values above given value(s) truncated.</td>
</tr>
<tr>
<td>DataFrame.corr([method, min_periods])</td>
<td>返回本数据框成对列的相关性系数</td>
</tr>
<tr>
<td>DataFrame.corrwith(other[, axis, drop])</td>
<td>返回不同数据框的相关性</td>
</tr>
<tr>
<td>DataFrame.count([axis, level, numeric_only])</td>
<td>返回非空元素的个数</td>
</tr>
<tr>
<td>DataFrame.cov([min_periods])</td>
<td>计算协方差</td>
</tr>
<tr>
<td>DataFrame.cummax([axis, skipna])</td>
<td>Return cumulative max over requested axis.</td>
</tr>
<tr>
<td>DataFrame.cummin([axis, skipna])</td>
<td>Return cumulative minimum over requested axis.</td>
</tr>
<tr>
<td>DataFrame.cumprod([axis, skipna])</td>
<td>返回累积</td>
</tr>
<tr>
<td>DataFrame.cumsum([axis, skipna])</td>
<td>返回累和</td>
</tr>
<tr>
<td>DataFrame.describe([percentiles, include, …])</td>
<td>整体描述数据框</td>
</tr>
<tr>
<td>DataFrame.diff([periods, axis])</td>
<td>1st discrete difference of object</td>
</tr>
<tr>
<td>DataFrame.eval(expr[, inplace])</td>
<td>Evaluate an expression in the context of the calling DataFrame instance.</td>
</tr>
<tr>
<td>DataFrame.kurt([axis, skipna, level, …])</td>
<td>返回无偏峰度Fisher’s (kurtosis of normal == 0.0).</td>
</tr>
<tr>
<td>DataFrame.mad([axis, skipna, level])</td>
<td>返回偏差</td>
</tr>
<tr>
<td>DataFrame.max([axis, skipna, level, …])</td>
<td>返回最大值</td>
</tr>
<tr>
<td>DataFrame.mean([axis, skipna, level, …])</td>
<td>返回均值</td>
</tr>
<tr>
<td>DataFrame.median([axis, skipna, level, …])</td>
<td>返回中位数</td>
</tr>
<tr>
<td>DataFrame.min([axis, skipna, level, …])</td>
<td>返回最小值</td>
</tr>
<tr>
<td>DataFrame.mode([axis, numeric_only])</td>
<td>返回众数</td>
</tr>
<tr>
<td>DataFrame.pct_change([periods, fill_method, …])</td>
<td>返回百分比变化</td>
</tr>
<tr>
<td>DataFrame.prod([axis, skipna, level, …])</td>
<td>返回连乘积</td>
</tr>
<tr>
<td>DataFrame.quantile([q, axis, numeric_only, …])</td>
<td>返回分位数</td>
</tr>
<tr>
<td>DataFrame.rank([axis, method, numeric_only, …])</td>
<td>返回数字的排序</td>
</tr>
<tr>
<td>DataFrame.round([decimals])</td>
<td>Round a DataFrame to a variable number of decimal places.</td>
</tr>
<tr>
<td>DataFrame.sem([axis, skipna, level, ddof, …])</td>
<td>返回无偏标准误</td>
</tr>
<tr>
<td>DataFrame.skew([axis, skipna, level, …])</td>
<td>返回无偏偏度</td>
</tr>
<tr>
<td>DataFrame.sum([axis, skipna, level, …])</td>
<td>求和</td>
</tr>
<tr>
<td>DataFrame.std([axis, skipna, level, ddof, …])</td>
<td>返回标准误差</td>
</tr>
<tr>
<td>DataFrame.var([axis, skipna, level, ddof, …])</td>
<td>返回无偏误差</td>
</tr>
</tbody>
</table>
<h4 id="从新索引选取标签操作" class="headerLink">
    <a href="#%e4%bb%8e%e6%96%b0%e7%b4%a2%e5%bc%95%e9%80%89%e5%8f%96%e6%a0%87%e7%ad%be%e6%93%8d%e4%bd%9c" class="header-mark"></a>从新索引&amp;选取&amp;标签操作</h4><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>DataFrame.add_prefix(prefix)</td>
<td>添加前缀</td>
</tr>
<tr>
<td>DataFrame.add_suffix(suffix)</td>
<td>添加后缀</td>
</tr>
<tr>
<td>DataFrame.align(other[, join, axis, level, …])</td>
<td>Align two object on their axes with the</td>
</tr>
<tr>
<td>DataFrame.drop(labels[, axis, level, …])</td>
<td>返回删除的列</td>
</tr>
<tr>
<td>[DataFrame.drop_duplicates(<a href="http://blog.csdn.net/claroja/article/details/76577793" target="_blank" rel="noopener noreferrer">subset, keep, …])</a></td>
<td>Return DataFrame with duplicate rows removed, optionally only</td>
</tr>
<tr>
<td>[DataFrame.duplicated(<a href="http://blog.csdn.net/claroja/article/details/76577793" target="_blank" rel="noopener noreferrer">subset, keep])</a></td>
<td>Return boolean Series denoting duplicate rows, optionally only</td>
</tr>
<tr>
<td>DataFrame.equals(other)</td>
<td>两个数据框是否相同</td>
</tr>
<tr>
<td>DataFrame.filter([items, like, regex, axis])</td>
<td>过滤特定的子数据框</td>
</tr>
<tr>
<td>DataFrame.first(offset)</td>
<td>Convenience method for subsetting initial periods of time series data based on a date offset.</td>
</tr>
<tr>
<td>DataFrame.head([n])</td>
<td>返回前n行</td>
</tr>
<tr>
<td>DataFrame.idxmax([axis, skipna])</td>
<td>Return index of first occurrence of maximum over requested axis.</td>
</tr>
<tr>
<td>DataFrame.idxmin([axis, skipna])</td>
<td>Return index of first occurrence of minimum over requested axis.</td>
</tr>
<tr>
<td>DataFrame.last(offset)</td>
<td>Convenience method for subsetting final periods of time series data based on a date offset.</td>
</tr>
<tr>
<td>[DataFrame.reindex(<a href="http://blog.csdn.net/claroja/article/details/72930594" target="_blank" rel="noopener noreferrer">index, columns])</a></td>
<td>Conform DataFrame to new index with optional filling logic, placing NA/NaN in locations having no value in the previous index.</td>
</tr>
<tr>
<td>[DataFrame.reindex_axis(labels<a href="http://blog.csdn.net/claroja/article/details/72930594" target="_blank" rel="noopener noreferrer">, axis, …])</a></td>
<td>Conform input object to new index with optional filling logic, placing NA/NaN in locations having no value in the previous index.</td>
</tr>
<tr>
<td>[DataFrame.reindex_like(other<a href="http://blog.csdn.net/claroja/article/details/72930594" target="_blank" rel="noopener noreferrer">, method, …])</a></td>
<td>Return an object with matching indices to myself.</td>
</tr>
<tr>
<td>[DataFrame.rename(<a href="http://blog.csdn.net/claroja/article/details/72930594" target="_blank" rel="noopener noreferrer">index, columns])</a></td>
<td>Alter axes input function or functions.</td>
</tr>
<tr>
<td>DataFrame.rename_axis(mapper[, axis, copy, …])</td>
<td>Alter index and / or columns using input function or functions.</td>
</tr>
<tr>
<td>[DataFrame.reset_index(<a href="http://blog.csdn.net/claroja/article/details/72930594" target="_blank" rel="noopener noreferrer">level, drop, …])</a></td>
<td>For DataFrame with multi-level index, return new DataFrame with labeling information in the columns under the index names, defaulting to ‘level_0’, ‘level_1’, etc.</td>
</tr>
<tr>
<td>DataFrame.sample([n, frac, replace, …])</td>
<td>返回随机抽样</td>
</tr>
<tr>
<td>DataFrame.select(crit[, axis])</td>
<td>Return data corresponding to axis labels matching criteria</td>
</tr>
<tr>
<td>[DataFrame.set_index(keys<a href="http://blog.csdn.net/claroja/article/details/72930594" target="_blank" rel="noopener noreferrer">, drop, append, …])</a></td>
<td>Set the DataFrame index (row labels) using one or more existing columns.</td>
</tr>
<tr>
<td>DataFrame.tail([n])</td>
<td>返回最后几行</td>
</tr>
<tr>
<td>DataFrame.take(indices[, axis, convert, is_copy])</td>
<td>Analogous to ndarray.take</td>
</tr>
<tr>
<td>DataFrame.truncate([before, after, axis, copy])</td>
<td>Truncates a sorted NDFrame before and/or after some particular index value.</td>
</tr>
</tbody>
</table>
<h4 id="处理缺失值" class="headerLink">
    <a href="#%e5%a4%84%e7%90%86%e7%bc%ba%e5%a4%b1%e5%80%bc" class="header-mark"></a>处理缺失值</h4><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>[DataFrame.dropna(<a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.dropna.html#pandas.DataFrame.dropna" target="_blank" rel="noopener noreferrer">axis, how, thresh, …])</a></td>
<td>Return object with labels on given axis omitted where alternately any</td>
</tr>
<tr>
<td>[DataFrame.fillna(<a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.fillna.html#pandas.DataFrame.fillna" target="_blank" rel="noopener noreferrer">value, method, axis, …])</a></td>
<td>填充空值</td>
</tr>
<tr>
<td>[DataFrame.replace(<a href="http://pandas.pydata.org/pandas-docs/stable/missing_data.html#replacing-generic-values" target="_blank" rel="noopener noreferrer">to_replace, value, …])</a></td>
<td>Replace values given in ‘to_replace’ with ‘value’.</td>
</tr>
</tbody>
</table>
<h4 id="从新定型排序转变形态" class="headerLink">
    <a href="#%e4%bb%8e%e6%96%b0%e5%ae%9a%e5%9e%8b%e6%8e%92%e5%ba%8f%e8%bd%ac%e5%8f%98%e5%bd%a2%e6%80%81" class="header-mark"></a>从新定型&amp;排序&amp;转变形态</h4><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>DataFrame.pivot([index, columns, values])</td>
<td>Reshape data (produce a “pivot” table) based on column values.</td>
</tr>
<tr>
<td>DataFrame.reorder_levels(order[, axis])</td>
<td>Rearrange index levels using input order.</td>
</tr>
<tr>
<td>[DataFrame.sort_values(by<a href="http://blog.csdn.net/claroja/article/details/73882340" target="_blank" rel="noopener noreferrer">, axis, ascending, …])</a></td>
<td>Sort by the values along either axis</td>
</tr>
<tr>
<td>[DataFrame.sort_index(<a href="http://blog.csdn.net/claroja/article/details/73882340" target="_blank" rel="noopener noreferrer">axis, level, …])</a></td>
<td>Sort object by labels (along an axis)</td>
</tr>
<tr>
<td>[DataFrame.nlargest(n, columns<a href="http://blog.csdn.net/claroja/article/details/73882340" target="_blank" rel="noopener noreferrer">, keep])</a></td>
<td>Get the rows of a DataFrame sorted by the n largest values of columns.</td>
</tr>
<tr>
<td>[DataFrame.nsmallest(n, columns<a href="http://blog.csdn.net/claroja/article/details/73882340" target="_blank" rel="noopener noreferrer">, keep])</a></td>
<td>Get the rows of a DataFrame sorted by the n smallest values of columns.</td>
</tr>
<tr>
<td>DataFrame.swaplevel([i, j, axis])</td>
<td>Swap levels i and j in a MultiIndex on a particular axis</td>
</tr>
<tr>
<td>DataFrame.stack([level, dropna])</td>
<td>Pivot a level of the (possibly hierarchical) column labels, returning a DataFrame (or Series in the case of an object with a single level of column labels) having a hierarchical index with a new inner-most level of row labels.</td>
</tr>
<tr>
<td>DataFrame.unstack([level, fill_value])</td>
<td>Pivot a level of the (necessarily hierarchical) index labels, returning a DataFrame having a new level of column labels whose inner-most level consists of the pivoted index labels.</td>
</tr>
<tr>
<td>DataFrame.melt([id_vars, value_vars, …])</td>
<td>“Unpivots” a DataFrame from wide format to long format, optionally</td>
</tr>
<tr>
<td>DataFrame.T</td>
<td>Transpose index and columns</td>
</tr>
<tr>
<td>DataFrame.to_panel()</td>
<td>Transform long (stacked) format (DataFrame) into wide (3D, Panel) format.</td>
</tr>
<tr>
<td>DataFrame.to_xarray()</td>
<td>Return an xarray object from the pandas object.</td>
</tr>
<tr>
<td>DataFrame.transpose(*args, **kwargs)</td>
<td>Transpose index and columns</td>
</tr>
</tbody>
</table>
<h4 id="combining-joiningmerging" class="headerLink">
    <a href="#combining-joiningmerging" class="header-mark"></a>Combining&amp; joining&amp;merging</h4><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>[DataFrame.append(other<a href="http://blog.csdn.net/claroja/article/details/72884998" target="_blank" rel="noopener noreferrer">, ignore_index, …])</a></td>
<td>追加数据</td>
</tr>
<tr>
<td>DataFrame.assign(**kwargs)</td>
<td>Assign new columns to a DataFrame, returning a new object (a copy) with all the original columns in addition to the new ones.</td>
</tr>
<tr>
<td>DataFrame.join(other[, on, how, lsuffix, …])</td>
<td>Join columns with other DataFrame either on index or on a key column.</td>
</tr>
<tr>
<td>DataFrame.merge(right[, how, on, left_on, …])</td>
<td>Merge DataFrame objects by performing a database-style join operation by columns or indexes.</td>
</tr>
<tr>
<td>DataFrame.update(other[, join, overwrite, …])</td>
<td>Modify DataFrame in place using non-NA values from passed DataFrame.</td>
</tr>
</tbody>
</table>
<h4 id="时间序列" class="headerLink">
    <a href="#%e6%97%b6%e9%97%b4%e5%ba%8f%e5%88%97" class="header-mark"></a>时间序列</h4><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>DataFrame.asfreq(freq[, method, how, …])</td>
<td>将时间序列转换为特定的频次</td>
</tr>
<tr>
<td>DataFrame.asof(where[, subset])</td>
<td>The last row without any NaN is taken (or the last row without</td>
</tr>
<tr>
<td>DataFrame.shift([periods, freq, axis])</td>
<td>Shift index by desired number of periods with an optional time freq</td>
</tr>
<tr>
<td>DataFrame.first_valid_index()</td>
<td>Return label for first non-NA/null value</td>
</tr>
<tr>
<td>DataFrame.last_valid_index()</td>
<td>Return label for last non-NA/null value</td>
</tr>
<tr>
<td>DataFrame.resample(rule[, how, axis, …])</td>
<td>Convenience method for frequency conversion and resampling of time series.</td>
</tr>
<tr>
<td>DataFrame.to_period([freq, axis, copy])</td>
<td>Convert DataFrame from DatetimeIndex to PeriodIndex with desired</td>
</tr>
<tr>
<td>DataFrame.to_timestamp([freq, how, axis, copy])</td>
<td>Cast to DatetimeIndex of timestamps, at beginning of period</td>
</tr>
<tr>
<td>DataFrame.tz_convert(tz[, axis, level, copy])</td>
<td>Convert tz-aware axis to target time zone.</td>
</tr>
<tr>
<td>DataFrame.tz_localize(tz[, axis, level, …])</td>
<td>Localize tz-naive TimeSeries to target time zone.</td>
</tr>
</tbody>
</table>
<h4 id="作图" class="headerLink">
    <a href="#%e4%bd%9c%e5%9b%be" class="header-mark"></a>作图</h4><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>[DataFrame.plot(<a href="http://blog.csdn.net/claroja/article/details/73872066" target="_blank" rel="noopener noreferrer">x, y, kind, ax, ….])</a></td>
<td>DataFrame plotting accessor and method</td>
</tr>
<tr>
<td>DataFrame.plot.area([x, y])</td>
<td>面积图Area plot</td>
</tr>
<tr>
<td>DataFrame.plot.bar([x, y])</td>
<td>垂直条形图Vertical bar plot</td>
</tr>
<tr>
<td>DataFrame.plot.barh([x, y])</td>
<td>水平条形图Horizontal bar plot</td>
</tr>
<tr>
<td>DataFrame.plot.box([by])</td>
<td>箱图Boxplot</td>
</tr>
<tr>
<td>DataFrame.plot.density(**kwds)</td>
<td>核密度Kernel Density Estimate plot</td>
</tr>
<tr>
<td>DataFrame.plot.hexbin(x, y[, C, …])</td>
<td>Hexbin plot</td>
</tr>
<tr>
<td>DataFrame.plot.hist([by, bins])</td>
<td>直方图Histogram</td>
</tr>
<tr>
<td>DataFrame.plot.kde(**kwds)</td>
<td>核密度Kernel Density Estimate plot</td>
</tr>
<tr>
<td>DataFrame.plot.line([x, y])</td>
<td>线图Line plot</td>
</tr>
<tr>
<td>DataFrame.plot.pie([y])</td>
<td>饼图Pie chart</td>
</tr>
<tr>
<td>DataFrame.plot.scatter(x, y[, s, c])</td>
<td>散点图Scatter plot</td>
</tr>
<tr>
<td>DataFrame.boxplot([column, by, ax, …])</td>
<td>Make a box plot from DataFrame column optionally grouped by some columns or</td>
</tr>
<tr>
<td>DataFrame.hist(data[, column, by, grid, …])</td>
<td>Draw histogram of the DataFrame’s series using matplotlib / pylab.</td>
</tr>
</tbody>
</table>
<h4 id="转换为其他格式" class="headerLink">
    <a href="#%e8%bd%ac%e6%8d%a2%e4%b8%ba%e5%85%b6%e4%bb%96%e6%a0%bc%e5%bc%8f" class="header-mark"></a>转换为其他格式</h4><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>DataFrame.from_csv(path[, header, sep, …])</td>
<td>Read CSV file (DEPRECATED, please use pandas.read_csv() instead).</td>
</tr>
<tr>
<td>DataFrame.from_dict(data[, orient, dtype])</td>
<td>Construct DataFrame from dict of array-like or dicts</td>
</tr>
<tr>
<td>DataFrame.from_items(items[, columns, orient])</td>
<td>Convert (key, value) pairs to DataFrame.</td>
</tr>
<tr>
<td>DataFrame.from_records(data[, index, …])</td>
<td>Convert structured or record ndarray to DataFrame</td>
</tr>
<tr>
<td>DataFrame.info([verbose, buf, max_cols, …])</td>
<td>Concise summary of a DataFrame.</td>
</tr>
<tr>
<td>DataFrame.to_pickle(path[, compression, …])</td>
<td>Pickle (serialize) object to input file path.</td>
</tr>
<tr>
<td>DataFrame.to_csv([path_or_buf, sep, na_rep, …])</td>
<td>Write DataFrame to a comma-separated values (csv) file</td>
</tr>
<tr>
<td>DataFrame.to_hdf(path_or_buf, key, **kwargs)</td>
<td>Write the contained data to an HDF5 file using HDFStore.</td>
</tr>
<tr>
<td>DataFrame.to_sql(name, con[, flavor, …])</td>
<td>Write records stored in a DataFrame to a SQL database.</td>
</tr>
<tr>
<td>DataFrame.to_dict([orient, into])</td>
<td>Convert DataFrame to dictionary.</td>
</tr>
<tr>
<td>DataFrame.to_excel(excel_writer[, …])</td>
<td>Write DataFrame to an excel sheet</td>
</tr>
<tr>
<td>DataFrame.to_json([path_or_buf, orient, …])</td>
<td>Convert the object to a JSON string.</td>
</tr>
<tr>
<td>DataFrame.to_html([buf, columns, col_space, …])</td>
<td>Render a DataFrame as an HTML table.</td>
</tr>
<tr>
<td>DataFrame.to_feather(fname)</td>
<td>write out the binary feather-format for DataFrames</td>
</tr>
<tr>
<td>DataFrame.to_latex([buf, columns, …])</td>
<td>Render an object to a tabular environment table.</td>
</tr>
<tr>
<td>DataFrame.to_stata(fname[, convert_dates, …])</td>
<td>A class for writing Stata binary dta files from array-like objects</td>
</tr>
<tr>
<td>DataFrame.to_msgpack([path_or_buf, encoding])</td>
<td>msgpack (serialize) object to input file path</td>
</tr>
<tr>
<td>DataFrame.to_gbq(destination_table, project_id)</td>
<td>Write a DataFrame to a Google BigQuery table.</td>
</tr>
<tr>
<td>DataFrame.to_records([index, convert_datetime64])</td>
<td>Convert DataFrame to record array.</td>
</tr>
<tr>
<td>DataFrame.to_sparse([fill_value, kind])</td>
<td>Convert to SparseDataFrame</td>
</tr>
<tr>
<td>DataFrame.to_dense()</td>
<td>Return dense representation of NDFrame (as opposed to sparse)</td>
</tr>
<tr>
<td>DataFrame.to_string([buf, columns, …])</td>
<td>Render a DataFrame to a console-friendly tabular output.</td>
</tr>
<tr>
<td>DataFrame.to_clipboard([excel, sep])</td>
<td>Attempt to write text representation of object to the system clipboard This can be pasted into Excel, for example.</td>
</tr>
</tbody>
</table>
<h3 id="参考链接" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5" class="header-mark"></a>参考链接</h3><blockquote>
<ul>
<li><a href="https://blog.csdn.net/HHTNAN/article/details/80080240" target="_blank" rel="noopener noreferrer">csdn 基本函数</a></li>
<li><a href="https://www.yiibai.com/pandas/python_pandas_quick_start.html" target="_blank" rel="noopener noreferrer">易百教程</a></li>
</ul>
</blockquote></div>

        <div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2019-01-10</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="#" title="分享到 微博" data-sharer="weibo" data-url="https://gsscsd.github.io/python%E4%B9%8Bpandas%E7%AC%94%E8%AE%B0/" data-title="python之Pandas笔记"><i class="fab fa-weibo fa-fw"></i></a><a href="#" title="分享到 百度" data-sharer="baidu" data-url="https://gsscsd.github.io/python%E4%B9%8Bpandas%E7%AC%94%E8%AE%B0/" data-title="python之Pandas笔记"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@v5.21.1/icons/baidu.svg"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/python/">python</a>,&nbsp;<a href="/tags/pandas/">Pandas</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%A1%88%E4%BE%8B%E4%B9%8Bnlp%E6%96%87%E6%9C%AC%E5%88%86%E7%B1%BB/" class="prev" rel="prev" title="机器学习案例之NLP文本分类"><i class="fas fa-angle-left fa-fw"></i>机器学习案例之NLP文本分类</a>
            <a href="/pytorch%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A81/" class="next" rel="next" title="PyTorch快速入门1">PyTorch快速入门1<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="valine" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://valine.js.org/">Valine</a>.
            </noscript></div></article></div>
        </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">
                    由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreferrer" title="Hugo 0.100.1">Hugo</a> 强力驱动&nbsp;|&nbsp;主题 - <a href="https://github.com/HEIGE-PCloud/DoIt" target="_blank" rel="noopener noreferrer" title="DoIt 0.3.0"><i class="far fa-edit fa-fw"></i> DoIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank" rel="noopener noreferrer">Gsscsd</a></span></div>
            <div class="footer-line"></div>
            <div class="footer-line">
            </div>
        </div></footer></div>

    <div id="fixed-buttons"><a href="#back-to-top" id="back-to-top-button" class="fixed-button" title="回到顶部">
            <i class="fas fa-arrow-up fa-fw"></i>
        </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
            <i class="fas fa-comment fa-fw"></i>
        </a>
    </div><div class="assets"><link rel="stylesheet" href="/lib/valine/valine.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/copy-tex.min.css">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/copy-tex.min.css"></noscript><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":50},"comment":{"valine":{"appId":"QGzwQXOqs5JOhN4RGPOkR2mR-MdYXbMMI","appKey":"WBmoGyJtbqUswvfLh6L8iEBr","avatar":"mp","el":"#valine","emojiCDN":"https://cdn.jsdelivr.net/npm/emoji-datasource-google@5.0.1/img/google/64/","emojiMaps":{"100":"1f4af.png","alien":"1f47d.png","anger":"1f4a2.png","angry":"1f620.png","anguished":"1f627.png","astonished":"1f632.png","black_heart":"1f5a4.png","blue_heart":"1f499.png","blush":"1f60a.png","bomb":"1f4a3.png","boom":"1f4a5.png","broken_heart":"1f494.png","brown_heart":"1f90e.png","clown_face":"1f921.png","cold_face":"1f976.png","cold_sweat":"1f630.png","confounded":"1f616.png","confused":"1f615.png","cry":"1f622.png","crying_cat_face":"1f63f.png","cupid":"1f498.png","dash":"1f4a8.png","disappointed":"1f61e.png","disappointed_relieved":"1f625.png","dizzy":"1f4ab.png","dizzy_face":"1f635.png","drooling_face":"1f924.png","exploding_head":"1f92f.png","expressionless":"1f611.png","face_vomiting":"1f92e.png","face_with_cowboy_hat":"1f920.png","face_with_hand_over_mouth":"1f92d.png","face_with_head_bandage":"1f915.png","face_with_monocle":"1f9d0.png","face_with_raised_eyebrow":"1f928.png","face_with_rolling_eyes":"1f644.png","face_with_symbols_on_mouth":"1f92c.png","face_with_thermometer":"1f912.png","fearful":"1f628.png","flushed":"1f633.png","frowning":"1f626.png","ghost":"1f47b.png","gift_heart":"1f49d.png","green_heart":"1f49a.png","grimacing":"1f62c.png","grin":"1f601.png","grinning":"1f600.png","hankey":"1f4a9.png","hear_no_evil":"1f649.png","heart":"2764-fe0f.png","heart_decoration":"1f49f.png","heart_eyes":"1f60d.png","heart_eyes_cat":"1f63b.png","heartbeat":"1f493.png","heartpulse":"1f497.png","heavy_heart_exclamation_mark_ornament":"2763-fe0f.png","hole":"1f573-fe0f.png","hot_face":"1f975.png","hugging_face":"1f917.png","hushed":"1f62f.png","imp":"1f47f.png","innocent":"1f607.png","japanese_goblin":"1f47a.png","japanese_ogre":"1f479.png","joy":"1f602.png","joy_cat":"1f639.png","kiss":"1f48b.png","kissing":"1f617.png","kissing_cat":"1f63d.png","kissing_closed_eyes":"1f61a.png","kissing_heart":"1f618.png","kissing_smiling_eyes":"1f619.png","laughing":"1f606.png","left_speech_bubble":"1f5e8-fe0f.png","love_letter":"1f48c.png","lying_face":"1f925.png","mask":"1f637.png","money_mouth_face":"1f911.png","nauseated_face":"1f922.png","nerd_face":"1f913.png","neutral_face":"1f610.png","no_mouth":"1f636.png","open_mouth":"1f62e.png","orange_heart":"1f9e1.png","partying_face":"1f973.png","pensive":"1f614.png","persevere":"1f623.png","pleading_face":"1f97a.png","pouting_cat":"1f63e.png","purple_heart":"1f49c.png","rage":"1f621.png","relaxed":"263a-fe0f.png","relieved":"1f60c.png","revolving_hearts":"1f49e.png","right_anger_bubble":"1f5ef-fe0f.png","robot_face":"1f916.png","rolling_on_the_floor_laughing":"1f923.png","scream":"1f631.png","scream_cat":"1f640.png","see_no_evil":"1f648.png","shushing_face":"1f92b.png","skull":"1f480.png","skull_and_crossbones":"2620-fe0f.png","sleeping":"1f634.png","sleepy":"1f62a.png","slightly_frowning_face":"1f641.png","slightly_smiling_face":"1f642.png","smile":"1f604.png","smile_cat":"1f638.png","smiley":"1f603.png","smiley_cat":"1f63a.png","smiling_face_with_3_hearts":"1f970.png","smiling_imp":"1f608.png","smirk":"1f60f.png","smirk_cat":"1f63c.png","sneezing_face":"1f927.png","sob":"1f62d.png","space_invader":"1f47e.png","sparkling_heart":"1f496.png","speak_no_evil":"1f64a.png","speech_balloon":"1f4ac.png","star-struck":"1f929.png","stuck_out_tongue":"1f61b.png","stuck_out_tongue_closed_eyes":"1f61d.png","stuck_out_tongue_winking_eye":"1f61c.png","sunglasses":"1f60e.png","sweat":"1f613.png","sweat_drops":"1f4a6.png","sweat_smile":"1f605.png","thinking_face":"1f914.png","thought_balloon":"1f4ad.png","tired_face":"1f62b.png","triumph":"1f624.png","two_hearts":"1f495.png","unamused":"1f612.png","upside_down_face":"1f643.png","weary":"1f629.png","white_frowning_face":"2639-fe0f.png","white_heart":"1f90d.png","wink":"1f609.png","woozy_face":"1f974.png","worried":"1f61f.png","yawning_face":"1f971.png","yellow_heart":"1f49b.png","yum":"1f60b.png","zany_face":"1f92a.png","zipper_mouth_face":"1f910.png","zzz":"1f4a4.png"},"enableQQ":false,"highlight":true,"lang":"zh-cn","pageSize":10,"placeholder":"你的评论 ...","recordIP":true,"serverURLs":"https://leancloud.hugoloveit.com","visitor":true}},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"distance":null,"findAllMatches":null,"fuseIndexURL":"/index.json","highlightTag":"em","ignoreFieldNorm":null,"ignoreLocation":null,"isCaseSensitive":null,"location":null,"maxResultLength":10,"minMatchCharLength":null,"noResultsFound":"没有找到结果","snippetLength":50,"threshold":null,"type":"fuse","useExtendedSearch":null},"sharerjs":true};</script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/valine@1.4.16/dist/Valine.min.js" defer></script><script type="text/javascript" src="/js/valine.min.js" defer></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.2/sharer.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js" defer></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" defer></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/copy-tex.min.js" defer></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/mhchem.min.js" defer></script><script type="text/javascript" src="/js/katex.min.js" defer></script><script type="text/javascript" src="/js/theme.min.js" defer></script></div>
</body>

</html>